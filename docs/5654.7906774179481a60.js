(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5654],{5654:(zn,Ot,B)=>{"use strict";B.r(Ot),B.d(Ot,{PollPage:()=>Rr,PollPageModule:()=>zs});var ot=B(4666),gt=B(2508),Rt=B(8139),$=B(1005),$t=B(6476),Bt=B(1670),Et=B(2340),Kt=B(2459),kt=B(8581),fn=B(9089);function Pt(){}function Ct(n){return null==n?Pt:function(){return this.querySelector(n)}}function Ut(n){return null==n?[]:Array.isArray(n)?n:Array.from(n)}function Gt(){return[]}function Qt(n){return null==n?Gt:function(){return this.querySelectorAll(n)}}function Lt(n){return function(){return this.matches(n)}}function _n(n){return function(i){return i.matches(n)}}var vn=Array.prototype.find;function Nt(){return this.firstElementChild}var en=Array.prototype.filter;function En(){return Array.from(this.children)}function pe(n){return new Array(n.length)}function Un(n,i){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=i}function re(n){return function(){return n}}function Vn(n,i,e,r,a,u){for(var d,c=0,x=i.length,A=u.length;c<A;++c)(d=i[c])?(d.__data__=u[c],r[c]=d):e[c]=new Un(n,u[c]);for(;c<x;++c)(d=i[c])&&(a[c]=d)}function Gn(n,i,e,r,a,u,c){var d,x,rt,A=new Map,Z=i.length,Q=u.length,nt=new Array(Z);for(d=0;d<Z;++d)(x=i[d])&&(nt[d]=rt=c.call(x,x.__data__,d,i)+"",A.has(rt)?a[d]=x:A.set(rt,x));for(d=0;d<Q;++d)rt=c.call(n,u[d],d,u)+"",(x=A.get(rt))?(r[d]=x,x.__data__=u[d],A.delete(rt)):e[d]=new Un(n,u[d]);for(d=0;d<Z;++d)(x=i[d])&&A.get(nt[d])===x&&(a[d]=x)}function oe(n){return n.__data__}function $n(n){return"object"==typeof n&&"length"in n?n:Array.from(n)}function se(n,i){return n<i?-1:n>i?1:n>=i?0:NaN}Un.prototype={constructor:Un,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,i){return this._parent.insertBefore(n,i)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};var _="http://www.w3.org/1999/xhtml";const y={svg:"http://www.w3.org/2000/svg",xhtml:_,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function v(n){var i=n+="",e=i.indexOf(":");return e>=0&&"xmlns"!==(i=n.slice(0,e))&&(n=n.slice(e+1)),y.hasOwnProperty(i)?{space:y[i],local:n}:n}function k(n){return function(){this.removeAttribute(n)}}function M(n){return function(){this.removeAttributeNS(n.space,n.local)}}function C(n,i){return function(){this.setAttribute(n,i)}}function N(n,i){return function(){this.setAttributeNS(n.space,n.local,i)}}function L(n,i){return function(){var e=i.apply(this,arguments);null==e?this.removeAttribute(n):this.setAttribute(n,e)}}function I(n,i){return function(){var e=i.apply(this,arguments);null==e?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,e)}}function j(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function S(n){return function(){this.style.removeProperty(n)}}function G(n,i,e){return function(){this.style.setProperty(n,i,e)}}function et(n,i,e){return function(){var r=i.apply(this,arguments);null==r?this.style.removeProperty(n):this.style.setProperty(n,r,e)}}function pt(n,i){return n.style.getPropertyValue(i)||j(n).getComputedStyle(n,null).getPropertyValue(i)}function Zt(n){return function(){delete this[n]}}function ht(n,i){return function(){this[n]=i}}function st(n,i){return function(){var e=i.apply(this,arguments);null==e?delete this[n]:this[n]=e}}function qt(n){return n.trim().split(/^|\s+/)}function ln(n){return n.classList||new wn(n)}function wn(n){this._node=n,this._names=qt(n.getAttribute("class")||"")}function bn(n,i){for(var e=ln(n),r=-1,a=i.length;++r<a;)e.add(i[r])}function Tn(n,i){for(var e=ln(n),r=-1,a=i.length;++r<a;)e.remove(i[r])}function on(n){return function(){bn(this,n)}}function tn(n){return function(){Tn(this,n)}}function un(n,i){return function(){(i.apply(this,arguments)?bn:Tn)(this,n)}}function An(){this.textContent=""}function m(n){return function(){this.textContent=n}}function J(n){return function(){var i=n.apply(this,arguments);this.textContent=i??""}}function at(){this.innerHTML=""}function E(n){return function(){this.innerHTML=n}}function tt(n){return function(){var i=n.apply(this,arguments);this.innerHTML=i??""}}function V(){this.nextSibling&&this.parentNode.appendChild(this)}function vt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Ln(n){return function(){var i=this.ownerDocument,e=this.namespaceURI;return e===_&&i.documentElement.namespaceURI===_?i.createElement(n):i.createElementNS(e,n)}}function Mn(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function cn(n){var i=v(n);return(i.local?Mn:Ln)(i)}function me(){return null}function Ve(){var n=this.parentNode;n&&n.removeChild(this)}function ue(){var n=this.cloneNode(!1),i=this.parentNode;return i?i.insertBefore(n,this.nextSibling):n}function Ae(){var n=this.cloneNode(!0),i=this.parentNode;return i?i.insertBefore(n,this.nextSibling):n}function hi(n){return n.trim().split(/^|\s+/).map(function(i){var e="",r=i.indexOf(".");return r>=0&&(e=i.slice(r+1),i=i.slice(0,r)),{type:i,name:e}})}function _i(n){return function(){var i=this.__on;if(i){for(var u,e=0,r=-1,a=i.length;e<a;++e)u=i[e],n.type&&u.type!==n.type||u.name!==n.name?i[++r]=u:this.removeEventListener(u.type,u.listener,u.options);++r?i.length=r:delete this.__on}}}function pi(n,i,e){return function(){var a,r=this.__on,u=function Hi(n){return function(i){n.call(this,i,this.__data__)}}(i);if(r)for(var c=0,d=r.length;c<d;++c)if((a=r[c]).type===n.type&&a.name===n.name)return this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=u,a.options=e),void(a.value=i);this.addEventListener(n.type,u,e),a={type:n.type,name:n.name,value:i,listener:u,options:e},r?r.push(a):this.__on=[a]}}function Ii(n,i,e){var r=j(n),a=r.CustomEvent;"function"==typeof a?a=new a(i,e):(a=r.document.createEvent("Event"),e?(a.initEvent(i,e.bubbles,e.cancelable),a.detail=e.detail):a.initEvent(i,!1,!1)),n.dispatchEvent(a)}function Xe(n,i){return function(){return Ii(this,n,i)}}function $e(n,i){return function(){return Ii(this,n,i.apply(this,arguments))}}wn.prototype={add:function(n){this._names.indexOf(n)<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var i=this._names.indexOf(n);i>=0&&(this._names.splice(i,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};var We=[null];function Pn(n,i){this._groups=n,this._parents=i}function di(){return new Pn([[document.documentElement]],We)}Pn.prototype=di.prototype={constructor:Pn,select:function St(n){"function"!=typeof n&&(n=Ct(n));for(var i=this._groups,e=i.length,r=new Array(e),a=0;a<e;++a)for(var x,A,u=i[a],c=u.length,d=r[a]=new Array(c),Z=0;Z<c;++Z)(x=u[Z])&&(A=n.call(x,x.__data__,Z,u))&&("__data__"in x&&(A.__data__=x.__data__),d[Z]=A);return new Pn(r,this._parents)},selectAll:function Wt(n){n="function"==typeof n?function pn(n){return function(){return Ut(n.apply(this,arguments))}}(n):Qt(n);for(var i=this._groups,e=i.length,r=[],a=[],u=0;u<e;++u)for(var x,c=i[u],d=c.length,A=0;A<d;++A)(x=c[A])&&(r.push(n.call(x,x.__data__,A,c)),a.push(x));return new Pn(r,a)},selectChild:function dn(n){return this.select(null==n?Nt:function mt(n){return function(){return vn.call(this.children,n)}}("function"==typeof n?n:_n(n)))},selectChildren:function ee(n){return this.selectAll(null==n?En:function Kn(n){return function(){return en.call(this.children,n)}}("function"==typeof n?n:_n(n)))},filter:function ie(n){"function"!=typeof n&&(n=Lt(n));for(var i=this._groups,e=i.length,r=new Array(e),a=0;a<e;++a)for(var x,u=i[a],c=u.length,d=r[a]=[],A=0;A<c;++A)(x=u[A])&&n.call(x,x.__data__,A,u)&&d.push(x);return new Pn(r,this._parents)},data:function Xn(n,i){if(!arguments.length)return Array.from(this,oe);var e=i?Gn:Vn,r=this._parents,a=this._groups;"function"!=typeof n&&(n=re(n));for(var u=a.length,c=new Array(u),d=new Array(u),x=new Array(u),A=0;A<u;++A){var Z=r[A],Q=a[A],nt=Q.length,rt=$n(n.call(Z,Z&&Z.__data__,A,r)),jt=rt.length,nn=d[A]=new Array(jt),z=c[A]=new Array(jt),H=x[A]=new Array(nt);e(Z,Q,nn,z,H,rt,i);for(var Tt,Ht,ft=0,it=0;ft<jt;++ft)if(Tt=nn[ft]){for(ft>=it&&(it=ft+1);!(Ht=z[it])&&++it<jt;);Tt._next=Ht||null}}return(c=new Pn(c,r))._enter=d,c._exit=x,c},enter:function de(){return new Pn(this._enter||this._groups.map(pe),this._parents)},exit:function Rn(){return new Pn(this._exit||this._groups.map(pe),this._parents)},join:function qn(n,i,e){var r=this.enter(),a=this,u=this.exit();return"function"==typeof n?(r=n(r))&&(r=r.selection()):r=r.append(n+""),null!=i&&(a=i(a))&&(a=a.selection()),null==e?u.remove():e(u),r&&a?r.merge(a).order():a},merge:function gn(n){for(var i=n.selection?n.selection():n,e=this._groups,r=i._groups,a=e.length,c=Math.min(a,r.length),d=new Array(a),x=0;x<c;++x)for(var rt,A=e[x],Z=r[x],Q=A.length,nt=d[x]=new Array(Q),jt=0;jt<Q;++jt)(rt=A[jt]||Z[jt])&&(nt[jt]=rt);for(;x<a;++x)d[x]=e[x];return new Pn(d,this._parents)},selection:function Ri(){return this},order:function mn(){for(var n=this._groups,i=-1,e=n.length;++i<e;)for(var c,r=n[i],a=r.length-1,u=r[a];--a>=0;)(c=r[a])&&(u&&4^c.compareDocumentPosition(u)&&u.parentNode.insertBefore(c,u),u=c);return this},sort:function ae(n){function i(Q,nt){return Q&&nt?n(Q.__data__,nt.__data__):!Q-!nt}n||(n=se);for(var e=this._groups,r=e.length,a=new Array(r),u=0;u<r;++u){for(var A,c=e[u],d=c.length,x=a[u]=new Array(d),Z=0;Z<d;++Z)(A=c[Z])&&(x[Z]=A);x.sort(i)}return new Pn(a,this._parents).order()},call:function ge(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this},nodes:function Dn(){return Array.from(this)},node:function Wn(){for(var n=this._groups,i=0,e=n.length;i<e;++i)for(var r=n[i],a=0,u=r.length;a<u;++a){var c=r[a];if(c)return c}return null},size:function f(){let n=0;for(const i of this)++n;return n},empty:function p(){return!this.node()},each:function g(n){for(var i=this._groups,e=0,r=i.length;e<r;++e)for(var d,a=i[e],u=0,c=a.length;u<c;++u)(d=a[u])&&n.call(d,d.__data__,u,a);return this},attr:function W(n,i){var e=v(n);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==i?e.local?M:k:"function"==typeof i?e.local?I:L:e.local?N:C)(e,i))},style:function O(n,i,e){return arguments.length>1?this.each((null==i?S:"function"==typeof i?et:G)(n,i,e??"")):pt(this.node(),n)},property:function zt(n,i){return arguments.length>1?this.each((null==i?Zt:"function"==typeof i?st:ht)(n,i)):this.node()[n]},classed:function Fn(n,i){var e=qt(n+"");if(arguments.length<2){for(var r=ln(this.node()),a=-1,u=e.length;++a<u;)if(!r.contains(e[a]))return!1;return!0}return this.each(("function"==typeof i?un:i?on:tn)(e,i))},text:function F(n){return arguments.length?this.each(null==n?An:("function"==typeof n?J:m)(n)):this.node().textContent},html:function ct(n){return arguments.length?this.each(null==n?at:("function"==typeof n?tt:E)(n)):this.node().innerHTML},raise:function yt(){return this.each(V)},lower:function Vt(){return this.each(vt)},append:function kn(n){var i="function"==typeof n?n:cn(n);return this.select(function(){return this.appendChild(i.apply(this,arguments))})},insert:function be(n,i){var e="function"==typeof n?n:cn(n),r=null==i?me:"function"==typeof i?i:Ct(i);return this.select(function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function le(){return this.each(Ve)},clone:function He(n){return this.select(n?Ae:ue)},datum:function fi(n){return arguments.length?this.property("__data__",n):this.node().__data__},on:function cr(n,i,e){var a,c,r=hi(n+""),u=r.length;if(!(arguments.length<2)){for(d=i?pi:_i,a=0;a<u;++a)this.each(d(r[a],i,e));return this}var d=this.node().__on;if(d)for(var Z,x=0,A=d.length;x<A;++x)for(a=0,Z=d[x];a<u;++a)if((c=r[a]).type===Z.type&&c.name===Z.name)return Z.value},dispatch:function Qi(n,i){return this.each(("function"==typeof i?$e:Xe)(n,i))},[Symbol.iterator]:function*zi(){for(var n=this._groups,i=0,e=n.length;i<e;++i)for(var c,r=n[i],a=0,u=r.length;a<u;++a)(c=r[a])&&(yield c)}};const Pe=di;var Si={value:()=>{}};function gi(){for(var r,n=0,i=arguments.length,e={};n<i;++n){if(!(r=arguments[n]+"")||r in e||/[\s.]/.test(r))throw new Error("illegal type: "+r);e[r]=[]}return new Ie(e)}function Ie(n){this._=n}function Gi(n,i){return n.trim().split(/^|\s+/).map(function(e){var r="",a=e.indexOf(".");if(a>=0&&(r=e.slice(a+1),e=e.slice(0,a)),e&&!i.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:r}})}function qi(n,i){for(var a,e=0,r=n.length;e<r;++e)if((a=n[e]).name===i)return a.value}function mi(n,i,e){for(var r=0,a=n.length;r<a;++r)if(n[r].name===i){n[r]=Si,n=n.slice(0,r).concat(n.slice(r+1));break}return null!=e&&n.push({name:i,value:e}),n}Ie.prototype=gi.prototype={constructor:Ie,on:function(n,i){var a,e=this._,r=Gi(n+"",e),u=-1,c=r.length;if(!(arguments.length<2)){if(null!=i&&"function"!=typeof i)throw new Error("invalid callback: "+i);for(;++u<c;)if(a=(n=r[u]).type)e[a]=mi(e[a],n.name,i);else if(null==i)for(a in e)e[a]=mi(e[a],n.name,null);return this}for(;++u<c;)if((a=(n=r[u]).type)&&(a=qi(e[a],n.name)))return a},copy:function(){var n={},i=this._;for(var e in i)n[e]=i[e].slice();return new Ie(n)},call:function(n,i){if((a=arguments.length-2)>0)for(var a,u,e=new Array(a),r=0;r<a;++r)e[r]=arguments[r+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(r=0,a=(u=this._[n]).length;r<a;++r)u[r].value.apply(i,e)},apply:function(n,i,e){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var r=this._[n],a=0,u=r.length;a<u;++a)r[a].value.apply(i,e)}};const Fi=gi;var Qe,ke,xe=0,Ze=0,Te=0,ze=0,ce=0,Re=0,Je="object"==typeof performance&&performance.now?performance:Date,yi="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function je(){return ce||(yi(Oi),ce=Je.now()+Re)}function Oi(){ce=0}function Se(){this._call=this._time=this._next=null}function vi(n,i,e){var r=new Se;return r.restart(n,i,e),r}function wi(){ce=(ze=Je.now())+Re,xe=Ze=0;try{!function Yi(){je(),++xe;for(var i,n=Qe;n;)(i=ce-n._time)>=0&&n._call.call(void 0,i),n=n._next;--xe}()}finally{xe=0,function Ki(){for(var n,e,i=Qe,r=1/0;i;)i._call?(r>i._time&&(r=i._time),n=i,i=i._next):(e=i._next,i._next=null,i=n?n._next=e:Qe=e);ke=n,ti(r)}(),ce=0}}function Bi(){var n=Je.now(),i=n-ze;i>1e3&&(Re-=i,ze=n)}function ti(n){xe||(Ze&&(Ze=clearTimeout(Ze)),n-ce>24?(n<1/0&&(Ze=setTimeout(wi,n-Je.now()-Re)),Te&&(Te=clearInterval(Te))):(Te||(ze=Je.now(),Te=setInterval(Bi,1e3)),xe=1,yi(wi)))}function bi(n,i,e){var r=new Se;return r.restart(a=>{r.stop(),n(a+i)},i=null==i?0:+i,e),r}Se.prototype=vi.prototype={constructor:Se,restart:function(n,i,e){if("function"!=typeof n)throw new TypeError("callback is not a function");e=(null==e?je():+e)+(null==i?0:+i),!this._next&&ke!==this&&(ke?ke._next=this:Qe=this,ke=this),this._call=n,this._time=e,ti()},stop:function(){this._call&&(this._call=null,this._time=1/0,ti())}};var Vi=Fi("start","end","cancel","interrupt"),Xi=[];function qe(n,i,e,r,a,u){var c=n.__transition;if(c){if(e in c)return}else n.__transition={};!function $i(n,i,e){var a,r=n.__transition;function c(A){var Z,Q,nt,rt;if(1!==e.state)return x();for(Z in r)if((rt=r[Z]).name===e.name){if(3===rt.state)return bi(c);4===rt.state?(rt.state=6,rt.timer.stop(),rt.on.call("interrupt",n,n.__data__,rt.index,rt.group),delete r[Z]):+Z<i&&(rt.state=6,rt.timer.stop(),rt.on.call("cancel",n,n.__data__,rt.index,rt.group),delete r[Z])}if(bi(function(){3===e.state&&(e.state=4,e.timer.restart(d,e.delay,e.time),d(A))}),e.state=2,e.on.call("start",n,n.__data__,e.index,e.group),2===e.state){for(e.state=3,a=new Array(nt=e.tween.length),Z=0,Q=-1;Z<nt;++Z)(rt=e.tween[Z].value.call(n,n.__data__,e.index,e.group))&&(a[++Q]=rt);a.length=Q+1}}function d(A){for(var Z=A<e.duration?e.ease.call(null,A/e.duration):(e.timer.restart(x),e.state=5,1),Q=-1,nt=a.length;++Q<nt;)a[Q].call(n,Z);5===e.state&&(e.on.call("end",n,n.__data__,e.index,e.group),x())}function x(){for(var A in e.state=6,e.timer.stop(),delete r[i],r)return;delete n.__transition}r[i]=e,e.timer=vi(function u(A){e.state=1,e.timer.restart(c,e.delay,e.time),e.delay<=A&&c(A-e.delay)},0,e.time)}(n,e,{name:i,index:r,group:a,on:Vi,tween:Xi,time:u.time,delay:u.delay,duration:u.duration,ease:u.ease,timer:null,state:0})}function ii(n,i){var e=Sn(n,i);if(e.state>0)throw new Error("too late; already scheduled");return e}function On(n,i){var e=Sn(n,i);if(e.state>3)throw new Error("too late; already running");return e}function Sn(n,i){var e=n.__transition;if(!e||!(e=e[i]))throw new Error("transition not found");return e}function jn(n,i){return n=+n,i=+i,function(e){return n*(1-e)+i*e}}var Fe,Zi=180/Math.PI,ri={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Ti(n,i,e,r,a,u){var c,d,x;return(c=Math.sqrt(n*n+i*i))&&(n/=c,i/=c),(x=n*e+i*r)&&(e-=n*x,r-=i*x),(d=Math.sqrt(e*e+r*r))&&(e/=d,r/=d,x/=d),n*r<i*e&&(n=-n,i=-i,x=-x,c=-c),{translateX:a,translateY:u,rotate:Math.atan2(i,n)*Zi,skewX:Math.atan(x)*Zi,scaleX:c,scaleY:d}}function oi(n,i,e,r){function a(A){return A.length?A.pop()+" ":""}return function(A,Z){var Q=[],nt=[];return A=n(A),Z=n(Z),function u(A,Z,Q,nt,rt,jt){if(A!==Q||Z!==nt){var nn=rt.push("translate(",null,i,null,e);jt.push({i:nn-4,x:jn(A,Q)},{i:nn-2,x:jn(Z,nt)})}else(Q||nt)&&rt.push("translate("+Q+i+nt+e)}(A.translateX,A.translateY,Z.translateX,Z.translateY,Q,nt),function c(A,Z,Q,nt){A!==Z?(A-Z>180?Z+=360:Z-A>180&&(A+=360),nt.push({i:Q.push(a(Q)+"rotate(",null,r)-2,x:jn(A,Z)})):Z&&Q.push(a(Q)+"rotate("+Z+r)}(A.rotate,Z.rotate,Q,nt),function d(A,Z,Q,nt){A!==Z?nt.push({i:Q.push(a(Q)+"skewX(",null,r)-2,x:jn(A,Z)}):Z&&Q.push(a(Q)+"skewX("+Z+r)}(A.skewX,Z.skewX,Q,nt),function x(A,Z,Q,nt,rt,jt){if(A!==Q||Z!==nt){var nn=rt.push(a(rt)+"scale(",null,",",null,")");jt.push({i:nn-4,x:jn(A,Q)},{i:nn-2,x:jn(Z,nt)})}else(1!==Q||1!==nt)&&rt.push(a(rt)+"scale("+Q+","+nt+")")}(A.scaleX,A.scaleY,Z.scaleX,Z.scaleY,Q,nt),A=Z=null,function(rt){for(var z,jt=-1,nn=nt.length;++jt<nn;)Q[(z=nt[jt]).i]=z.x(rt);return Q.join("")}}}var ki=oi(function tr(n){const i=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(n+"");return i.isIdentity?ri:Ti(i.a,i.b,i.c,i.d,i.e,i.f)},"px, ","px)","deg)"),ve=oi(function Yn(n){return null!=n&&(Fe||(Fe=document.createElementNS("http://www.w3.org/2000/svg","g")),Fe.setAttribute("transform",n),n=Fe.transform.baseVal.consolidate())?Ti((n=n.matrix).a,n.b,n.c,n.d,n.e,n.f):ri},", ",")",")");function fr(n,i){var e,r;return function(){var a=On(this,n),u=a.tween;if(u!==e)for(var c=0,d=(r=e=u).length;c<d;++c)if(r[c].name===i){(r=r.slice()).splice(c,1);break}a.tween=r}}function hr(n,i,e){var r,a;if("function"!=typeof e)throw new Error;return function(){var u=On(this,n),c=u.tween;if(c!==r){a=(r=c).slice();for(var d={name:i,value:e},x=0,A=a.length;x<A;++x)if(a[x].name===i){a[x]=d;break}x===A&&a.push(d)}u.tween=a}}function Ne(n,i,e){var r=n._id;return n.each(function(){var a=On(this,r);(a.value||(a.value={}))[i]=e.apply(this,arguments)}),function(a){return Sn(a,r).value[i]}}function ai(n,i,e){n.prototype=i.prototype=e,e.constructor=n}function Ji(n,i){var e=Object.create(n.prototype);for(var r in i)e[r]=i[r];return e}function Ce(){}var o=1/.7,s="\\s*([+-]?\\d+)\\s*",l="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",h="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",w=/^#([0-9a-f]{3,8})$/,T=new RegExp(`^rgb\\(${s},${s},${s}\\)$`),P=new RegExp(`^rgb\\(${h},${h},${h}\\)$`),D=new RegExp(`^rgba\\(${s},${s},${s},${l}\\)$`),R=new RegExp(`^rgba\\(${h},${h},${h},${l}\\)$`),K=new RegExp(`^hsl\\(${l},${h},${h}\\)$`),q=new RegExp(`^hsla\\(${l},${h},${h},${l}\\)$`),xt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function bt(){return this.rgb().formatHex()}function Hn(){return this.rgb().formatRgb()}function ne(n){var i,e;return n=(n+"").trim().toLowerCase(),(i=w.exec(n))?(e=i[1].length,i=parseInt(i[1],16),6===e?_r(i):3===e?new Qn(i>>8&15|i>>4&240,i>>4&15|240&i,(15&i)<<4|15&i,1):8===e?Mi(i>>24&255,i>>16&255,i>>8&255,(255&i)/255):4===e?Mi(i>>12&15|i>>8&240,i>>8&15|i>>4&240,i>>4&15|240&i,((15&i)<<4|15&i)/255):null):(i=T.exec(n))?new Qn(i[1],i[2],i[3],1):(i=P.exec(n))?new Qn(255*i[1]/100,255*i[2]/100,255*i[3]/100,1):(i=D.exec(n))?Mi(i[1],i[2],i[3],i[4]):(i=R.exec(n))?Mi(255*i[1]/100,255*i[2]/100,255*i[3]/100,i[4]):(i=K.exec(n))?gr(i[1],i[2]/100,i[3]/100,1):(i=q.exec(n))?gr(i[1],i[2]/100,i[3]/100,i[4]):xt.hasOwnProperty(n)?_r(xt[n]):"transparent"===n?new Qn(NaN,NaN,NaN,0):null}function _r(n){return new Qn(n>>16&255,n>>8&255,255&n,1)}function Mi(n,i,e,r){return r<=0&&(n=i=e=NaN),new Qn(n,i,e,r)}function Fr(n){return n instanceof Ce||(n=ne(n)),n?new Qn((n=n.rgb()).r,n.g,n.b,n.opacity):new Qn}function Ni(n,i,e,r){return 1===arguments.length?Fr(n):new Qn(n,i,e,r??1)}function Qn(n,i,e,r){this.r=+n,this.g=+i,this.b=+e,this.opacity=+r}function pr(){return`#${De(this.r)}${De(this.g)}${De(this.b)}`}function dr(){const n=Ci(this.opacity);return`${1===n?"rgb(":"rgba("}${Ue(this.r)}, ${Ue(this.g)}, ${Ue(this.b)}${1===n?")":`, ${n})`}`}function Ci(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function Ue(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function De(n){return((n=Ue(n))<16?"0":"")+n.toString(16)}function gr(n,i,e,r){return r<=0?n=i=e=NaN:e<=0||e>=1?n=i=NaN:i<=0&&(n=NaN),new Bn(n,i,e,r)}function mr(n){if(n instanceof Bn)return new Bn(n.h,n.s,n.l,n.opacity);if(n instanceof Ce||(n=ne(n)),!n)return new Bn;if(n instanceof Bn)return n;var i=(n=n.rgb()).r/255,e=n.g/255,r=n.b/255,a=Math.min(i,e,r),u=Math.max(i,e,r),c=NaN,d=u-a,x=(u+a)/2;return d?(c=i===u?(e-r)/d+6*(e<r):e===u?(r-i)/d+2:(i-e)/d+4,d/=x<.5?u+a:2-u-a,c*=60):d=x>0&&x<1?0:c,new Bn(c,d,x,n.opacity)}function Bn(n,i,e,r){this.h=+n,this.s=+i,this.l=+e,this.opacity=+r}function xr(n){return(n=(n||0)%360)<0?n+360:n}function Ei(n){return Math.max(0,Math.min(1,n||0))}function er(n,i,e){return 255*(n<60?i+(e-i)*n/60:n<180?e:n<240?i+(e-i)*(240-n)/60:i)}function yr(n,i,e,r,a){var u=n*n,c=u*n;return((1-3*n+3*u-c)*i+(4-6*u+3*c)*e+(1+3*n+3*u-3*c)*r+c*a)/6}ai(Ce,ne,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:bt,formatHex:bt,formatHex8:function Dt(){return this.rgb().formatHex8()},formatHsl:function te(){return mr(this).formatHsl()},formatRgb:Hn,toString:Hn}),ai(Qn,Ni,Ji(Ce,{brighter(n){return n=null==n?o:Math.pow(o,n),new Qn(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=null==n?.7:Math.pow(.7,n),new Qn(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new Qn(Ue(this.r),Ue(this.g),Ue(this.b),Ci(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:pr,formatHex:pr,formatHex8:function Or(){return`#${De(this.r)}${De(this.g)}${De(this.b)}${De(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:dr,toString:dr})),ai(Bn,function Yr(n,i,e,r){return 1===arguments.length?mr(n):new Bn(n,i,e,r??1)},Ji(Ce,{brighter(n){return n=null==n?o:Math.pow(o,n),new Bn(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=null==n?.7:Math.pow(.7,n),new Bn(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+360*(this.h<0),i=isNaN(n)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*i,a=2*e-r;return new Qn(er(n>=240?n-240:n+120,a,r),er(n,a,r),er(n<120?n+240:n-120,a,r),this.opacity)},clamp(){return new Bn(xr(this.h),Ei(this.s),Ei(this.l),Ci(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=Ci(this.opacity);return`${1===n?"hsl(":"hsla("}${xr(this.h)}, ${100*Ei(this.s)}%, ${100*Ei(this.l)}%${1===n?")":`, ${n})`}`}}));const vr=n=>()=>n;function br(n,i){var e=i-n;return e?function wr(n,i){return function(e){return n+e*i}}(n,e):vr(isNaN(n)?i:n)}const Ar=function n(i){var e=function Xr(n){return 1==(n=+n)?br:function(i,e){return e-i?function Vr(n,i,e){return n=Math.pow(n,e),i=Math.pow(i,e)-n,e=1/e,function(r){return Math.pow(n+r*i,e)}}(i,e,n):vr(isNaN(i)?e:i)}}(i);function r(a,u){var c=e((a=Ni(a)).r,(u=Ni(u)).r),d=e(a.g,u.g),x=e(a.b,u.b),A=br(a.opacity,u.opacity);return function(Z){return a.r=c(Z),a.g=d(Z),a.b=x(Z),a.opacity=A(Z),a+""}}return r.gamma=n,r}(1);function Pr(n){return function(i){var c,d,e=i.length,r=new Array(e),a=new Array(e),u=new Array(e);for(c=0;c<e;++c)d=Ni(i[c]),r[c]=d.r||0,a[c]=d.g||0,u[c]=d.b||0;return r=n(r),a=n(a),u=n(u),d.opacity=1,function(x){return d.r=r(x),d.g=a(x),d.b=u(x),d+""}}}Pr(function Br(n){var i=n.length-1;return function(e){var r=e<=0?e=0:e>=1?(e=1,i-1):Math.floor(e*i),a=n[r],u=n[r+1];return yr((e-r/i)*i,r>0?n[r-1]:2*a-u,a,u,r<i-1?n[r+2]:2*u-a)}}),Pr(function Kr(n){var i=n.length;return function(e){var r=Math.floor(((e%=1)<0?++e:e)*i);return yr((e-r/i)*i,n[(r+i-1)%i],n[r%i],n[(r+1)%i],n[(r+2)%i])}});var ir=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,rr=new RegExp(ir.source,"g");function jr(n,i){var r,a,u,e=ir.lastIndex=rr.lastIndex=0,c=-1,d=[],x=[];for(n+="",i+="";(r=ir.exec(n))&&(a=rr.exec(i));)(u=a.index)>e&&(u=i.slice(e,u),d[c]?d[c]+=u:d[++c]=u),(r=r[0])===(a=a[0])?d[c]?d[c]+=a:d[++c]=a:(d[++c]=null,x.push({i:c,x:jn(r,a)})),e=rr.lastIndex;return e<i.length&&(u=i.slice(e),d[c]?d[c]+=u:d[++c]=u),d.length<2?x[0]?function Wr(n){return function(i){return n(i)+""}}(x[0].x):function $r(n){return function(){return n}}(i):(i=x.length,function(A){for(var Q,Z=0;Z<i;++Z)d[(Q=x[Z]).i]=Q.x(A);return d.join("")})}function Zr(n,i){var e;return("number"==typeof i?jn:i instanceof ne?Ar:(e=ne(i))?(i=e,Ar):jr)(n,i)}function to(n){return function(){this.removeAttribute(n)}}function no(n){return function(){this.removeAttributeNS(n.space,n.local)}}function eo(n,i,e){var r,u,a=e+"";return function(){var c=this.getAttribute(n);return c===a?null:c===r?u:u=i(r=c,e)}}function io(n,i,e){var r,u,a=e+"";return function(){var c=this.getAttributeNS(n.space,n.local);return c===a?null:c===r?u:u=i(r=c,e)}}function ro(n,i,e){var r,a,u;return function(){var c,x,d=e(this);return null==d?void this.removeAttribute(n):(c=this.getAttribute(n))===(x=d+"")?null:c===r&&x===a?u:(a=x,u=i(r=c,d))}}function oo(n,i,e){var r,a,u;return function(){var c,x,d=e(this);return null==d?void this.removeAttributeNS(n.space,n.local):(c=this.getAttributeNS(n.space,n.local))===(x=d+"")?null:c===r&&x===a?u:(a=x,u=i(r=c,d))}}function so(n,i){return function(e){this.setAttribute(n,i.call(this,e))}}function lo(n,i){return function(e){this.setAttributeNS(n.space,n.local,i.call(this,e))}}function uo(n,i){var e,r;function a(){var u=i.apply(this,arguments);return u!==r&&(e=(r=u)&&lo(n,u)),e}return a._value=i,a}function co(n,i){var e,r;function a(){var u=i.apply(this,arguments);return u!==r&&(e=(r=u)&&so(n,u)),e}return a._value=i,a}function ho(n,i){return function(){ii(this,n).delay=+i.apply(this,arguments)}}function _o(n,i){return i=+i,function(){ii(this,n).delay=i}}function go(n,i){return function(){On(this,n).duration=+i.apply(this,arguments)}}function mo(n,i){return i=+i,function(){On(this,n).duration=i}}function yo(n,i){if("function"!=typeof i)throw new Error;return function(){On(this,n).ease=i}}function To(n,i,e){var r,a,u=function Zo(n){return(n+"").trim().split(/^|\s+/).every(function(i){var e=i.indexOf(".");return e>=0&&(i=i.slice(0,e)),!i||"start"===i})}(i)?ii:On;return function(){var c=u(this,n),d=c.on;d!==r&&(a=(r=d).copy()).on(i,e),c.on=a}}var Eo=Pe.prototype.constructor;function Tr(n){return function(){this.style.removeProperty(n)}}function zo(n,i,e){return function(r){this.style.setProperty(n,i.call(this,r),e)}}function Ro(n,i,e){var r,a;function u(){var c=i.apply(this,arguments);return c!==a&&(r=(a=c)&&zo(n,c,e)),r}return u._value=i,u}function Oo(n){return function(i){this.textContent=n.call(this,i)}}function Yo(n){var i,e;function r(){var a=n.apply(this,arguments);return a!==e&&(i=(e=a)&&Oo(a)),i}return r._value=n,r}var Xo=0;function fe(n,i,e,r){this._groups=n,this._parents=i,this._name=e,this._id=r}function kr(){return++Xo}var he=Pe.prototype;fe.prototype=function $o(n){return Pe().transition(n)}.prototype={constructor:fe,select:function No(n){var i=this._name,e=this._id;"function"!=typeof n&&(n=Ct(n));for(var r=this._groups,a=r.length,u=new Array(a),c=0;c<a;++c)for(var Z,Q,d=r[c],x=d.length,A=u[c]=new Array(x),nt=0;nt<x;++nt)(Z=d[nt])&&(Q=n.call(Z,Z.__data__,nt,d))&&("__data__"in Z&&(Q.__data__=Z.__data__),A[nt]=Q,qe(A[nt],i,e,nt,A,Sn(Z,e)));return new fe(u,this._parents,i,e)},selectAll:function Co(n){var i=this._name,e=this._id;"function"!=typeof n&&(n=Qt(n));for(var r=this._groups,a=r.length,u=[],c=[],d=0;d<a;++d)for(var Z,x=r[d],A=x.length,Q=0;Q<A;++Q)if(Z=x[Q]){for(var rt,nt=n.call(Z,Z.__data__,Q,x),jt=Sn(Z,e),nn=0,z=nt.length;nn<z;++nn)(rt=nt[nn])&&qe(rt,i,e,nn,nt,jt);u.push(nt),c.push(Z)}return new fe(u,c,i,e)},selectChild:he.selectChild,selectChildren:he.selectChildren,filter:function Ao(n){"function"!=typeof n&&(n=Lt(n));for(var i=this._groups,e=i.length,r=new Array(e),a=0;a<e;++a)for(var x,u=i[a],c=u.length,d=r[a]=[],A=0;A<c;++A)(x=u[A])&&n.call(x,x.__data__,A,u)&&d.push(x);return new fe(r,this._parents,this._name,this._id)},merge:function Po(n){if(n._id!==this._id)throw new Error;for(var i=this._groups,e=n._groups,r=i.length,u=Math.min(r,e.length),c=new Array(r),d=0;d<u;++d)for(var nt,x=i[d],A=e[d],Z=x.length,Q=c[d]=new Array(Z),rt=0;rt<Z;++rt)(nt=x[rt]||A[rt])&&(Q[rt]=nt);for(;d<r;++d)c[d]=i[d];return new fe(c,this._parents,this._name,this._id)},selection:function Uo(){return new Eo(this._groups,this._parents)},transition:function Ko(){for(var n=this._name,i=this._id,e=kr(),r=this._groups,a=r.length,u=0;u<a;++u)for(var x,c=r[u],d=c.length,A=0;A<d;++A)if(x=c[A]){var Z=Sn(x,i);qe(x,n,e,A,c,{time:Z.time+Z.delay+Z.duration,delay:0,duration:Z.duration,ease:Z.ease})}return new fe(r,this._parents,n,e)},call:he.call,nodes:he.nodes,node:he.node,size:he.size,empty:he.empty,each:he.each,on:function ko(n,i){var e=this._id;return arguments.length<2?Sn(this.node(),e).on.on(n):this.each(To(e,n,i))},attr:function ao(n,i){var e=v(n),r="transform"===e?ve:Zr;return this.attrTween(n,"function"==typeof i?(e.local?oo:ro)(e,r,Ne(this,"attr."+n,i)):null==i?(e.local?no:to)(e):(e.local?io:eo)(e,r,i))},attrTween:function fo(n,i){var e="attr."+n;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==i)return this.tween(e,null);if("function"!=typeof i)throw new Error;var r=v(n);return this.tween(e,(r.local?uo:co)(r,i))},style:function Qo(n,i,e){var r="transform"==(n+="")?ki:Zr;return null==i?this.styleTween(n,function Do(n,i){var e,r,a;return function(){var u=pt(this,n),c=(this.style.removeProperty(n),pt(this,n));return u===c?null:u===e&&c===r?a:a=i(e=u,r=c)}}(n,r)).on("end.style."+n,Tr(n)):"function"==typeof i?this.styleTween(n,function Ho(n,i,e){var r,a,u;return function(){var c=pt(this,n),d=e(this),x=d+"";return null==d&&(this.style.removeProperty(n),x=d=pt(this,n)),c===x?null:c===r&&x===a?u:(a=x,u=i(r=c,d))}}(n,r,Ne(this,"style."+n,i))).each(function Io(n,i){var e,r,a,d,u="style."+i,c="end."+u;return function(){var x=On(this,n),A=x.on,Z=null==x.value[u]?d||(d=Tr(i)):void 0;(A!==e||a!==Z)&&(r=(e=A).copy()).on(c,a=Z),x.on=r}}(this._id,n)):this.styleTween(n,function Lo(n,i,e){var r,u,a=e+"";return function(){var c=pt(this,n);return c===a?null:c===r?u:u=i(r=c,e)}}(n,r,i),e).on("end.style."+n,null)},styleTween:function So(n,i,e){var r="style."+(n+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==i)return this.tween(r,null);if("function"!=typeof i)throw new Error;return this.tween(r,Ro(n,i,e??""))},text:function Fo(n){return this.tween("text","function"==typeof n?function qo(n){return function(){var i=n(this);this.textContent=i??""}}(Ne(this,"text",n)):function Go(n){return function(){this.textContent=n}}(null==n?"":n+""))},textTween:function Bo(n){var i="text";if(arguments.length<1)return(i=this.tween(i))&&i._value;if(null==n)return this.tween(i,null);if("function"!=typeof n)throw new Error;return this.tween(i,Yo(n))},remove:function Mo(){return this.on("end.remove",function Jo(n){return function(){var i=this.parentNode;for(var e in this.__transition)if(+e!==n)return;i&&i.removeChild(this)}}(this._id))},tween:function nr(n,i){var e=this._id;if(n+="",arguments.length<2){for(var c,r=Sn(this.node(),e).tween,a=0,u=r.length;a<u;++a)if((c=r[a]).name===n)return c.value;return null}return this.each((null==i?fr:hr)(e,n,i))},delay:function po(n){var i=this._id;return arguments.length?this.each(("function"==typeof n?ho:_o)(i,n)):Sn(this.node(),i).delay},duration:function xo(n){var i=this._id;return arguments.length?this.each(("function"==typeof n?go:mo)(i,n)):Sn(this.node(),i).duration},ease:function vo(n){var i=this._id;return arguments.length?this.each(yo(i,n)):Sn(this.node(),i).ease},easeVarying:function bo(n){if("function"!=typeof n)throw new Error;return this.each(function wo(n,i){return function(){var e=i.apply(this,arguments);if("function"!=typeof e)throw new Error;On(this,n).ease=e}}(this._id,n))},end:function Vo(){var n,i,e=this,r=e._id,a=e.size();return new Promise(function(u,c){var d={value:c},x={value:function(){0==--a&&u()}};e.each(function(){var A=On(this,r),Z=A.on;Z!==n&&((i=(n=Z).copy())._.cancel.push(d),i._.interrupt.push(d),i._.end.push(x)),A.on=i}),0===a&&u()})},[Symbol.iterator]:he[Symbol.iterator]};var jo={time:null,delay:0,duration:250,ease:function Wo(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}};function ta(n,i){for(var e;!(e=n.__transition)||!(e=e[i]);)if(!(n=n.parentNode))throw new Error(`transition ${i} not found`);return e}Pe.prototype.interrupt=function ji(n){return this.each(function(){!function Wi(n,i){var r,a,c,e=n.__transition,u=!0;if(e){for(c in i=null==i?null:i+"",e)(r=e[c]).name===i?(a=r.state>2&&r.state<5,r.state=6,r.timer.stop(),r.on.call(a?"interrupt":"cancel",n,n.__data__,r.index,r.group),delete e[c]):u=!1;u&&delete n.__transition}}(this,n)})},Pe.prototype.transition=function na(n){var i,e;n instanceof fe?(i=n._id,n=n._name):(i=kr(),(e=jo).time=je(),n=null==n?null:n+"");for(var r=this._groups,a=r.length,u=0;u<a;++u)for(var x,c=r[u],d=c.length,A=0;A<d;++A)(x=c[A])&&qe(x,n,i,A,c,e||ta(x,i));return new fe(r,this._parents,n,i)};Math;function si(n){return{type:n}}function li(n){return"string"==typeof n?new Pn([[document.querySelector(n)]],[document.documentElement]):new Pn([[n]],We)}function Ur(n){return"string"==typeof n?new Pn([document.querySelectorAll(n)],[document.documentElement]):new Pn([Ut(n)],We)}function Be(n,i,e){this.k=n,this.x=i,this.y=e}["w","e"].map(si),["n","s"].map(si),["n","w","e","s","nw","ne","sw","se"].map(si),Be.prototype={constructor:Be,scale:function(n){return 1===n?this:new Be(this.k*n,this.x,this.y)},translate:function(n,i){return 0===n&0===i?this:new Be(this.k,this.x+this.k*n,this.y+this.k*i)},apply:function(n){return[n[0]*this.k+this.x,n[1]*this.k+this.y]},applyX:function(n){return n*this.k+this.x},applyY:function(n){return n*this.k+this.y},invert:function(n){return[(n[0]-this.x)/this.k,(n[1]-this.y)/this.k]},invertX:function(n){return(n-this.x)/this.k},invertY:function(n){return(n-this.y)/this.k},rescaleX:function(n){return n.copy().domain(n.range().map(this.invertX,this).map(n.invert,n))},rescaleY:function(n){return n.copy().domain(n.range().map(this.invertY,this).map(n.invert,n))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},new Be(1,0,0);var t=B(2135),Lr=B(6301);function ga(n,i){1&n&&(t._UZ(0,"span",10),t.ALo(1,"translate")),2&n&&t.Q6J("innerHtml"," "+t.lcZ(1,1,"analysis.yellow-dot"),t.oJD)}function ma(n,i){1&n&&(t.TgZ(0,"small")(1,"p"),t._UZ(2,"span",10),t.ALo(3,"translate"),t.TgZ(4,"span",12),t._UZ(5,"b",10),t.ALo(6,"translate"),t.qZA(),t._UZ(7,"span",10),t.ALo(8,"translate"),t.TgZ(9,"span",13),t._UZ(10,"b",10),t.ALo(11,"translate"),t.qZA(),t._UZ(12,"span",10),t.ALo(13,"translate"),t.TgZ(14,"span",14),t._UZ(15,"b",10),t.ALo(16,"translate"),t.qZA(),t._UZ(17,"span",10),t.ALo(18,"translate"),t._UZ(19,"span",10),t.ALo(20,"translate"),t.TgZ(21,"span",15),t._UZ(22,"b",10),t.ALo(23,"translate"),t.qZA(),t._UZ(24,"span",10),t.ALo(25,"translate"),t.qZA()()),2&n&&(t.xp6(2),t.Q6J("innerHtml",t.lcZ(3,10,"analysis.colors-before-red"),t.oJD),t.xp6(3),t.Q6J("innerHtml",t.lcZ(6,12,"analysis.colors-red"),t.oJD),t.xp6(2),t.Q6J("innerHtml",t.lcZ(8,14,"analysis.colors-between-red-and-blue"),t.oJD),t.xp6(3),t.Q6J("innerHtml",t.lcZ(11,16,"analysis.colors-blue"),t.oJD),t.xp6(2),t.Q6J("innerHtml",t.lcZ(13,18,"analysis.colors-between-blue-and-green"),t.oJD),t.xp6(3),t.Q6J("innerHtml",t.lcZ(16,20,"analysis.colors-green"),t.oJD),t.xp6(2),t.Q6J("innerHtml",t.lcZ(18,22,"analysis.colors-after-green"),t.oJD),t.xp6(2),t.Q6J("innerHtml",t.lcZ(20,24,"analysis.colors-before-dark-green"),t.oJD),t.xp6(3),t.Q6J("innerHtml",t.lcZ(23,26,"analysis.colors-dark-green"),t.oJD),t.xp6(2),t.Q6J("innerHtml",t.lcZ(25,28,"analysis.colors-after-dark-green"),t.oJD))}function xa(n,i){if(1&n&&(t.TgZ(0,"ion-content"),t._UZ(1,"div",7),t.TgZ(2,"ion-item",8)(3,"ion-grid",9)(4,"ion-row",9)(5,"ion-col",9)(6,"p"),t._UZ(7,"span",10),t.ALo(8,"translate"),t.YNc(9,ga,2,3,"span",11),t.qZA(),t._UZ(10,"p",10),t.ALo(11,"translate"),t.YNc(12,ma,26,30,"small",6),t._UZ(13,"p",10),t.ALo(14,"translate"),t.qZA()()()()()),2&n){const e=t.oxw();t.xp6(7),t.Q6J("innerHtml",t.lcZ(8,5,e.P.p.T.n_not_abstaining>100?"analysis.each-dot-percent":"analysis.each-dot-participant"),t.oJD),t.xp6(2),t.Q6J("ngIf",!e.P.p.am_abstaining),t.xp6(1),t.Q6J("innerHtml",t.lcZ(11,7,"analysis.discs"),t.oJD),t.xp6(2),t.Q6J("ngIf",!e.P.p.am_abstaining),t.xp6(1),t.Q6J("innerHtml",t.lcZ(14,9,"analysis.suggestion-general"),t.oJD)}}const Hr={vodlered:"#d33939",vodleblue:"#3465a4",vodlegreen:"#62a73b",vodledarkgreen:"#4c822e"};let Ir=(()=>{class n{constructor(e,r,a){this.translate=e,this.modalController=r,this.G=a,this.Array=Array,this.Math=Math,this.Object=Object,this.window=window,this.document=document,this.environment=Et.N,this.JSON=JSON,this.page="analysis",this.G.L.entry("AnalysisPage.constructor")}ngOnInit(){this.G.L.entry("AnalysisPage.ngOnInit")}ionViewWillEnter(){this.G.L.entry("AnalysisPage.ionViewWillEnter"),this.G.D.page=this}ionViewDidEnter(){this.G.L.entry("AnalysisPage.ionViewDidEnter"),this.show_venn()}onDataReady(){this.G.L.entry("AnalysisPage.onDataReady")}onDataChange(){this.G.L.entry("AnalysisPage.onDataChange")}ionViewWillLeave(){this.G.L.entry("AnalysisPage.ionViewWillLeave")}ionViewDidLeave(){this.G.L.entry("AnalysisPage.ionViewDidLeave")}close(){this.modalController.dismiss()}show_venn(){const e=this.P.p.T,r=e.shares_map,a=[],u=[],c=e.votes_map.get(this.P.p.myvid);for(const[Mt,wt]of e.oids_descending.entries()){if(10==Mt)break;r.has(wt)&&r.get(wt)>0&&(a.push(wt),u.push(this.P.slidercolor[wt]))}this.G.L.info("colors",u,Hr[u[0]]);const d={},x=e.approvals_map,A="abcdefghij";for(const Mt of this.P.p.T.all_vids_set){let wt="";for(const[Yt,Zn]of a.entries()){const It=x.get(Zn);It.has(Mt)&&It.get(Mt)&&(wt+=A[Yt])}wt in d?d[wt]+=1:d[wt]=1}this.G.L.info("exact_combi_counts",d);const Z={};for(const[Mt,wt]of Object.entries(d)){const Yt=Mt.length,Zn=1<<Yt;for(let It=1;It<Zn;It++){let b="";for(let Y=0;Y<Yt;Y++)0!=(It&1<<Y)&&(b+=Mt[Y]);b in Z?Z[b]+=wt:Z[b]=wt}}this.G.L.info("subset_counts",Z);const Q=[],nt=e.n_not_abstaining;for(const[Mt,wt]of a.entries())Q.push({sets:[A[Mt]],size:Z[A[Mt]],label:this.P.p.options[wt].name});for(const[Mt,wt]of Object.entries(Z))Mt.length>1&&Q.push({sets:[...Mt],size:wt,weight:Mt.length>2?0:1});this.G.L.info("sets_array",Q),Q.reverse();const nn=li("#venn").node().getBoundingClientRect().width;var z=fn.VennDiagram().width(nn).height(.9*nn);li("#venn").datum(Q).call(z),Ur("#venn .venn-circle path").style("fill-opacity",0).style("fill",function(Mt,wt){return Hr[u[a.length-1-wt]]}).style("stroke-width",1).style("stroke-opacity",0).style("stroke","white"),Ur("#venn .venn-circle text").style("fill","white").style("fill-opacity",0).style("stroke-width",0).style("font-size","14px").style("font-style","italic").style("font-weight","bold");const H=[],ft=li("#venn > svg"),it=[];for(const[Mt,wt]of a.entries()){const It=li('g[data-venn-sets="'+A[Mt]+'"]').select("path").node().getBBox(),b=It.width/2,Y=It.x+b,U=It.y+b,X=nt<=100?e.n_votes_map.get(wt):Math.round(100*e.shares_map.get(wt)),_t=ft.append("g"),ut=[];let lt=!1;H.push({cx:Y,cy:U,R:b}),it.push(_t);for(let dt=0;dt<X;dt++){var Ft,xn,an=0==dt&&c==wt?"yellow":"black";for(let At=0;At<100;At++){const Jn=(b-10.5)*Math.sqrt(Math.random()),rn=2*Math.PI*Math.random();Ft=Y+Jn*Math.sin(rn),xn=U+Jn*Math.cos(rn),lt=!0;for(let sn=0;sn<dt;sn++){const hn=ut[sn];if((Ft-hn[0])**2+(xn-hn[1])**2<441){lt=!1;break}}if(lt)for(let sn=0;sn<Mt;sn++){const hn=H[sn];if((Ft-hn.cx)**2+(xn-hn.cy)**2<(hn.R+10.5)**2){lt=!1;break}}if(lt)break}ut.push([Ft,xn]),lt&&_t.append("circle").style("stroke",an).style("stroke-opacity",0).style("fill",an).style("fill-opacity",0).attr("r",7).attr("cx",Ft).attr("cy",xn)}}for(const[Mt,wt]of a.entries()){const Yt=li('g[data-venn-sets="'+A[Mt]+'"]'),Zn=Yt.select("path"),It=Yt.select("text"),b=it[Mt];ft.append(()=>It.node());const Y=It.clone(!0);It.style("stroke-width",2).style("stroke","black").style("stroke-opacity",0),Zn.transition().duration(2e3).delay(1e3*Mt).style("fill-opacity",.95-.05*Mt).style("stroke-opacity",1),It.transition().duration(2e3).delay(1e3*Mt).style("stroke-opacity",.75),Y.transition().duration(2e3).delay(1e3*Mt).style("fill-opacity",1),b.selectAll("circle").transition().duration(2e3).delay(1e3*Mt).style("fill-opacity",.3)}}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Rt.sK),t.Y36($.IN),t.Y36(Lr.U))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-analysis"]],viewQuery:function(e,r){if(1&e&&t.Gf($.W2,5),2&e){let a;t.iGM(a=t.CRH())&&(r.content=a.first)}},inputs:{P:"P"},decls:9,vars:4,consts:[[1,"ion-no-margin","ion-no-padding",2,"--inner-padding-end","0px!important"],[2,"padding-left","16px"],[2,"font-weight","bold","font-size","larger",3,"innerHtml"],["slot","end"],["fill","clear",3,"click"],["slot","icon-only","name","close-outline"],[4,"ngIf"],["id","venn"],["lines","none",1,"ion-no-margin"],[1,"ion-no-padding","ion-no-margin"],[3,"innerHtml"],[3,"innerHtml",4,"ngIf"],[2,"color","#d33939"],[2,"color","#3465a4"],[2,"color","#62a73b"],[2,"color","#4c822e"]],template:function(e,r){1&e&&(t.TgZ(0,"ion-header")(1,"ion-item",0)(2,"ion-toolbar",1),t._UZ(3,"ion-text",2),t.ALo(4,"translate"),t.TgZ(5,"ion-buttons",3)(6,"ion-button",4),t.NdJ("click",function(){return r.close()}),t._UZ(7,"ion-icon",5),t.qZA()()()()(),t.YNc(8,xa,15,11,"ion-content",6)),2&e&&(t.xp6(3),t.Q6J("innerHtml",t.lcZ(4,2,"analysis.-page-title"),t.oJD),t.xp6(5),t.Q6J("ngIf",r.P.ready))},dependencies:[ot.O5,$.YG,$.Sm,$.wI,$.W2,$.jY,$.Gu,$.gu,$.Ie,$.Nd,$.yW,$.sr,Rt.X$],styles:['@charset "UTF-8";']}),n})();var ya=B(2122),va=B(1353);const wa=["expandWrapper"],ba=["*"];let Aa=(()=>{class n{constructor(e){this.renderer=e}ngAfterViewInit(){this.renderer.setStyle(this.expandWrapper.nativeElement,"height",this.expandHeight+"px")}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.Qsj))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-expandable"]],viewQuery:function(e,r){if(1&e&&t.Gf(wa,5,t.SBq),2&e){let a;t.iGM(a=t.CRH())&&(r.expandWrapper=a.first)}},inputs:{expanded:"expanded",expandHeight:"expandHeight"},ngContentSelectors:ba,decls:3,vars:2,consts:[[1,"expand-wrapper"],["expandWrapper",""]],template:function(e,r){1&e&&(t.F$t(),t.TgZ(0,"div",0,1),t.Hsn(2),t.qZA()),2&e&&t.ekj("collapsed",!r.expanded)},styles:["app-expandable[_ngcontent-%COMP%]   .expand-wrapper[_ngcontent-%COMP%]{transition:height 1s ease}app-expandable[_ngcontent-%COMP%]   .collapsed[_ngcontent-%COMP%]{display:none;height:0!important}"]}),n})();function Pa(n,i){1&n&&(t._UZ(0,"ion-text",12),t.ALo(1,"translate")),2&n&&t.Q6J("innerHtml",t.lcZ(1,1,"poll.-page-title"),t.oJD)}function Za(n,i){if(1&n&&(t.TgZ(0,"ion-text")(1,"b"),t._UZ(2,"i",13),t.qZA()()),2&n){const e=t.oxw();t.xp6(2),t.Q6J("innerHtml",e.p.title,t.oJD)}}function Ta(n,i){1&n&&(t.ynx(0),t._UZ(1,"ion-icon",14)(2,"ion-icon",15),t.BQk())}function ka(n,i){1&n&&t._UZ(0,"ion-spinner",16)}function Ja(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"ion-button",17),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.checkmark_clicked())}),t._UZ(1,"ion-icon",18),t.qZA()}}function Ma(n,i){1&n&&(t._UZ(0,"span",13),t.ALo(1,"translate")),2&n&&t.Q6J("innerHtml",t.lcZ(1,1,"poll.delegate-button"),t.oJD)}function Na(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"ion-button",19),t.NdJ("click",function(a){t.CHM(e);const u=t.oxw();return t.KtG(u.delegate_dialog(a))}),t.YNc(1,Ma,2,3,"span",20),t.TgZ(2,"ion-button",21),t._UZ(3,"ion-icon",22),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.scroll_position<70),t.xp6(1),t.Q6J("disabled",!e.E.delegation.enabled)}}function Ca(n,i){if(1&n&&(t.TgZ(0,"small"),t._UZ(1,"br"),t._uU(2),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(2),t.hij(" ",e.body," ")}}function Ea(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"ion-card")(1,"ion-card-content",49)(2,"ion-item",50),t._uU(3," \xa0\xa0 "),t.TgZ(4,"ion-label",49),t._uU(5),t.YNc(6,Ca,3,1,"small",5),t.qZA(),t.TgZ(7,"ion-button",51),t.NdJ("click",function(){const u=t.CHM(e).$implicit,c=t.oxw(2);return c.news.delete(u),t.KtG(c.G.N.dismiss(u.key))}),t._UZ(8,"ion-icon",52),t.qZA()()()()}if(2&n){const e=i.$implicit;t.xp6(5),t.hij(" ",e.title," "),t.xp6(1),t.Q6J("ngIf",e.body)}}const Ua=function(n){return{language:n}};function Da(n,i){if(1&n&&(t.TgZ(0,"small"),t._UZ(1,"p",13),t.ALo(2,"translate"),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("innerHtml",t.xi3(2,1,"poll.different-language",t.VKq(4,Ua,e.G.S.language_names[e.p.language])),t.oJD)}}function La(n,i){if(1&n&&t._UZ(0,"i",13),2&n){const e=t.oxw(3);t.Q6J("innerHtml",e.p.desc,t.oJD)}}function Ha(n,i){1&n&&(t.TgZ(0,"span"),t._uU(1,"\xa0"),t.qZA())}function Ia(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"small"),t._uU(1," ("),t.TgZ(2,"span",47),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(3);return a.G.open_url_in_new_tab(a.G.D.fix_url(a.p.url)),t.KtG(a.details_expanded=!a.details_expanded)}),t._UZ(3,"ion-text",46),t.ALo(4,"translate"),t._uU(5,"\xa0"),t._UZ(6,"ion-icon",55),t.qZA(),t._uU(7,") "),t.qZA()}2&n&&(t.xp6(3),t.Q6J("innerHtml",t.lcZ(4,1,"read-more"),t.oJD))}function Qa(n,i){1&n&&(t.TgZ(0,"small"),t._uU(1," \xa0 ("),t._UZ(2,"ion-text",46),t.ALo(3,"translate"),t._uU(4,") "),t.qZA()),2&n&&(t.xp6(2),t.Q6J("innerHtml",t.lcZ(3,1,"hide"),t.oJD))}function za(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"ion-item",53),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.details_expanded=!a.details_expanded)}),t.TgZ(1,"ion-grid",54)(2,"ion-row",27)(3,"ion-col",27)(4,"div"),t.YNc(5,La,1,1,"i",20),t.YNc(6,Ha,2,0,"span",5),t.YNc(7,Ia,8,3,"small",5),t.YNc(8,Qa,5,3,"small",5),t.qZA()()()()()}if(2&n){const e=t.oxw(2);t.xp6(4),t.Akn(e.details_expanded?"white-space: normal; overflow: hidden; text-overflow: ellipsis; width: 100%!important;":"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; width: 100%!important;"),t.xp6(1),t.Q6J("ngIf",""!=(e.p.desc||"")),t.xp6(1),t.Q6J("ngIf",""!=(e.p.desc||"")&&""!=(e.p.url||"")),t.xp6(1),t.Q6J("ngIf",""!=(e.p.url||"")),t.xp6(1),t.Q6J("ngIf",e.details_expanded)}}function Ra(n,i){1&n&&(t._UZ(0,"ion-label",60),t.ALo(1,"translate")),2&n&&t.Q6J("innerHtml",t.lcZ(1,1,"poll.assist-me-button"),t.oJD)}function Sa(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"ion-button",56),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.assist_dialog())}),t.YNc(1,Ra,2,3,"ion-label",57),t._uU(2,"\xa0"),t.TgZ(3,"ion-button",58),t._UZ(4,"ion-icon",59),t.qZA()()}if(2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.details_expanded)}}function Ga(n,i){1&n&&(t._UZ(0,"ion-badge",61),t.ALo(1,"translate")),2&n&&t.Q6J("innerHtml",t.lcZ(1,1,"badges.closing-soon"),t.oJD)}function qa(n,i){1&n&&(t._UZ(0,"span",13),t.ALo(1,"translate")),2&n&&t.Q6J("innerHtml",t.lcZ(1,1,"poll.closes"),t.oJD)}function Fa(n,i){1&n&&(t._UZ(0,"span",13),t.ALo(1,"translate")),2&n&&t.Q6J("innerHtml",t.lcZ(1,1,"poll.closed"),t.oJD)}function Oa(n,i){if(1&n){const e=t.EpF();t.ynx(0),t._uU(1,"\xa0("),t.TgZ(2,"span",36),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.analysis_dialog())}),t.ALo(3,"translate"),t.qZA(),t._uU(4,")"),t.BQk()}2&n&&(t.xp6(2),t.Q6J("innerHtml",t.lcZ(3,1,"poll.analysis-details"),t.oJD))}function Ya(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"ion-badge",62),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.analysis_dialog())}),t._UZ(1,"ion-icon",63),t._uU(2,"\xa0"),t._UZ(3,"span",13),t.qZA()}2&n&&(t.xp6(3),t.Q6J("innerHtml","suggestions",t.oJD))}function Ba(n,i){if(1&n&&(t.ynx(0),t._UZ(1,"span",60),t.ALo(2,"translate"),t._uU(3,"\xa0"),t.TgZ(4,"ion-button",64),t._UZ(5,"ion-icon",65),t.qZA(),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("innerHtml",t.lcZ(2,2,"poll.show-live"),t.oJD),t.xp6(4),t.Q6J("name",e.show_live?"eye-off-outline":"eye-outline")}}function Ka(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"ion-item",68)(1,"small")(2,"p"),t._UZ(3,"span",69),t.ALo(4,"translate"),t._uU(5,"\xa0"),t._UZ(6,"wbr")(7,"span",13),t.ALo(8,"translate"),t._UZ(9,"wbr"),t.TgZ(10,"span",70),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(a.glossary("wap"))}),t._UZ(11,"span",46),t.ALo(12,"translate"),t._UZ(13,"ion-icon",71),t.qZA(),t._UZ(14,"span",13),t.ALo(15,"translate"),t._uU(16," \xa0"),t._UZ(17,"wbr"),t.TgZ(18,"span",32),t._uU(19," ("),t.TgZ(20,"a",72),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(a.assist_dialog())}),t.ALo(21,"translate"),t.qZA(),t._uU(22,") "),t.qZA()()()()}2&n&&(t.xp6(3),t.Q6J("innerHtml",t.lcZ(4,5,"poll.hint-first-time-1"),t.oJD),t.xp6(4),t.Q6J("innerHtml",t.lcZ(8,7,"poll.hint-first-time-2-before-wap"),t.oJD),t.xp6(4),t.Q6J("innerHtml",t.lcZ(12,9,"poll.hint-first-time-2-wap"),t.oJD),t.xp6(3),t.Q6J("innerHtml",t.lcZ(15,11,"poll.hint-first-time-2-after-wap"),t.oJD),t.xp6(6),t.Q6J("innerHtml",t.lcZ(21,13,"poll.assist-me-inline"),t.oJD))}function Va(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"ion-item",73)(1,"small")(2,"p"),t._UZ(3,"span",69),t.ALo(4,"translate"),t._uU(5,"\xa0"),t._UZ(6,"wbr")(7,"span",13),t.ALo(8,"translate"),t._UZ(9,"wbr"),t.TgZ(10,"span",70),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(a.glossary("wap"))}),t._UZ(11,"span",46),t.ALo(12,"translate"),t._UZ(13,"ion-icon",71),t.qZA(),t._UZ(14,"span",13),t.ALo(15,"translate"),t._uU(16," \xa0"),t._UZ(17,"wbr"),t.TgZ(18,"span",32),t._uU(19," ("),t.TgZ(20,"a",72),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(a.assist_dialog())}),t.ALo(21,"translate"),t.qZA(),t._uU(22,") "),t.qZA()()()()}2&n&&(t.xp6(3),t.Q6J("innerHtml",t.lcZ(4,5,"poll.hint-abstaining-1"),t.oJD),t.xp6(4),t.Q6J("innerHtml",t.lcZ(8,7,"poll.hint-abstaining-2-before-wap"),t.oJD),t.xp6(4),t.Q6J("innerHtml",t.lcZ(12,9,"poll.hint-abstaining-2-wap"),t.oJD),t.xp6(3),t.Q6J("innerHtml",t.lcZ(15,11,"poll.hint-abstaining-2-after-wap"),t.oJD),t.xp6(6),t.Q6J("innerHtml",t.lcZ(21,13,"poll.assist-me-inline"),t.oJD))}function Xa(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"ion-item",68)(1,"small")(2,"p"),t._UZ(3,"span",69),t.ALo(4,"translate"),t._UZ(5,"wbr"),t.TgZ(6,"span",70),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(a.glossary("wap"))}),t._UZ(7,"span",74),t.ALo(8,"translate"),t._UZ(9,"ion-icon",75),t.qZA(),t._UZ(10,"span",69),t.ALo(11,"translate"),t._uU(12,"\xa0"),t._UZ(13,"wbr")(14,"span",13),t.ALo(15,"translate"),t._uU(16," \xa0"),t._UZ(17,"wbr"),t.TgZ(18,"span",32),t._uU(19," ("),t.TgZ(20,"a",72),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(a.assist_dialog())}),t.ALo(21,"translate"),t.qZA(),t._uU(22,") "),t.qZA()()()()}2&n&&(t.xp6(3),t.Q6J("innerHtml",t.lcZ(4,5,"poll.hint-only1positive-1-before-wap"),t.oJD),t.xp6(4),t.Q6J("innerHtml",t.lcZ(8,7,"poll.hint-only1positive-1-wap"),t.oJD),t.xp6(3),t.Q6J("innerHtml",t.lcZ(11,9,"poll.hint-only1positive-1-after-wap"),t.oJD),t.xp6(4),t.Q6J("innerHtml",t.lcZ(15,11,"poll.hint-only1positive-2"),t.oJD),t.xp6(6),t.Q6J("innerHtml",t.lcZ(21,13,"poll.assist-me-inline"),t.oJD))}function $a(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"ion-item",76)(1,"small")(2,"p"),t._UZ(3,"span",69),t.ALo(4,"translate"),t._UZ(5,"wbr"),t.TgZ(6,"span",70),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(a.glossary("approve"))}),t._UZ(7,"span",74),t.ALo(8,"translate"),t._UZ(9,"ion-icon",75),t.qZA(),t._UZ(10,"span",69),t.ALo(11,"translate"),t._uU(12,"\xa0"),t._UZ(13,"wbr")(14,"span",13),t.ALo(15,"translate"),t._UZ(16,"wbr"),t.TgZ(17,"span",70),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(a.glossary("wap"))}),t._UZ(18,"span",46),t.ALo(19,"translate"),t._UZ(20,"ion-icon",71),t.qZA(),t._UZ(21,"span",13),t.ALo(22,"translate"),t._uU(23," \xa0"),t._UZ(24,"wbr"),t.TgZ(25,"span",32),t._uU(26," ("),t.TgZ(27,"a",72),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(a.assist_dialog())}),t.ALo(28,"translate"),t.qZA(),t._uU(29,") "),t.qZA()()()()}2&n&&(t.xp6(3),t.Q6J("innerHtml",t.lcZ(4,7,"poll.hint-only1approved-1-before-approving"),t.oJD),t.xp6(4),t.Q6J("innerHtml",t.lcZ(8,9,"poll.hint-only1approved-1-approving"),t.oJD),t.xp6(3),t.Q6J("innerHtml",t.lcZ(11,11,"poll.hint-only1approved-1-after-approving"),t.oJD),t.xp6(4),t.Q6J("innerHtml",t.lcZ(15,13,"poll.hint-only1approved-2-before-wap"),t.oJD),t.xp6(4),t.Q6J("innerHtml",t.lcZ(19,15,"poll.hint-only1approved-2-wap"),t.oJD),t.xp6(3),t.Q6J("innerHtml",t.lcZ(22,17,"poll.hint-only1approved-2-after-wap"),t.oJD),t.xp6(6),t.Q6J("innerHtml",t.lcZ(28,19,"poll.assist-me-inline"),t.oJD))}function Wa(n,i){1&n&&(t.TgZ(0,"ion-item",77)(1,"small")(2,"p"),t._UZ(3,"span",13),t.ALo(4,"translate"),t.qZA()()()),2&n&&(t.xp6(3),t.Q6J("innerHtml",t.lcZ(4,1,"poll.hint-mostapproved-1"),t.oJD))}function ja(n,i){if(1&n&&(t.ynx(0),t.YNc(1,Ka,23,15,"ion-item",41),t.YNc(2,Va,23,15,"ion-item",66),t.YNc(3,Xa,23,15,"ion-item",41),t.YNc(4,$a,30,21,"ion-item",67),t.YNc(5,Wa,5,3,"ion-item",40),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!e.p.have_acted&&!e.p.am_abstaining),t.xp6(1),t.Q6J("ngIf",e.p.am_abstaining),t.xp6(1),t.Q6J("ngIf",1==e.p.my_n_rated_positive),t.xp6(1),t.Q6J("ngIf",e.show_live&&1!=e.p.my_n_rated_positive&&1==e.p.my_n_approved),t.xp6(1),t.Q6J("ngIf",e.show_live&&e.p.my_n_approved>1&&!e.p.T.approvals_map.get(e.oidsorted[0]).get(e.p.myvid))}}const ur=function(){return{}};function ts(n,i){1&n&&(t._UZ(0,"span",13),t.ALo(1,"translate")),2&n&&t.Q6J("innerHtml",t.xi3(1,1,"poll.reason-all-abstained",t.DdM(4,ur)),t.oJD)}function ns(n,i){1&n&&(t._UZ(0,"span",13),t.ALo(1,"translate")),2&n&&t.Q6J("innerHtml",t.xi3(1,1,"poll.reason-full-consensus-unique",t.DdM(4,ur)),t.oJD)}function es(n,i){1&n&&(t._UZ(0,"span",13),t.ALo(1,"translate")),2&n&&t.Q6J("innerHtml",t.xi3(1,1,"poll.reason-full-consensus-highest",t.DdM(4,ur)),t.oJD)}const is=function(n,i){return{approval:n,disapproval:i}};function rs(n,i){if(1&n&&(t._UZ(0,"span",13),t.ALo(1,"translate")),2&n){const e=t.oxw(3);t.Q6J("innerHtml",t.xi3(1,1,"poll.reason-largest-approval",t.WLB(4,is,(e.p.T.approval_scores_map.get(e.oidsorted[0])/e.p.T.n_not_abstaining*100).toFixed(1),(100-e.p.T.approval_scores_map.get(e.oidsorted[0])/e.p.T.n_not_abstaining*100).toFixed(1))),t.oJD)}}const os=function(n){return{share:n}};function as(n,i){if(1&n&&(t._UZ(0,"span",13),t.ALo(1,"translate")),2&n){const e=t.oxw(3);t.Q6J("innerHtml",t.xi3(1,1,"poll.reason-smaller-approval",t.VKq(4,os,(100*e.p.T.shares_map.get(e.p.winner)).toFixed(1))),t.oJD)}}const ss=function(n){return{winner:n}};function ls(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"ion-item",77),t._UZ(2,"p",13),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"ion-item",73)(5,"h3"),t._UZ(6,"b",13),t.ALo(7,"translate"),t.qZA()(),t.TgZ(8,"ion-item",68)(9,"p"),t._UZ(10,"b",13),t.ALo(11,"translate"),t._uU(12,"\xa0 "),t.YNc(13,ts,2,5,"span",20),t.YNc(14,ns,2,5,"span",20),t.YNc(15,es,2,5,"span",20),t.YNc(16,rs,2,7,"span",20),t.YNc(17,as,2,6,"span",20),t.qZA()(),t.BQk()),2&n){const e=t.oxw(2);t.xp6(2),t.Q6J("innerHtml",t.lcZ(3,8,"poll.results"),t.oJD),t.xp6(4),t.Q6J("innerHtml",t.xi3(7,10,"poll.winner-is",t.VKq(15,ss,e.p.options[e.p.winner].name)),t.oJD),t.xp6(4),t.Q6J("innerHtml",t.lcZ(11,13,"poll.reason"),t.oJD),t.xp6(3),t.Q6J("ngIf",0==e.p.T.n_not_abstaining),t.xp6(1),t.Q6J("ngIf",e.p.T.n_not_abstaining>0&&e.p.T.approval_scores_map.get(e.oidsorted[0])==e.p.T.n_not_abstaining&&e.p.T.approval_scores_map.get(e.oidsorted[1])<e.p.T.n_not_abstaining),t.xp6(1),t.Q6J("ngIf",e.p.T.n_not_abstaining>0&&e.p.T.approval_scores_map.get(e.oidsorted[0])==e.p.T.n_not_abstaining&&e.p.T.approval_scores_map.get(e.oidsorted[1])==e.p.T.n_not_abstaining),t.xp6(1),t.Q6J("ngIf",e.p.T.n_not_abstaining>0&&e.p.T.approval_scores_map.get(e.oidsorted[0])<e.p.T.n_not_abstaining&&e.p.winner==e.oidsorted[0]),t.xp6(1),t.Q6J("ngIf",e.p.T.n_not_abstaining>0&&e.p.T.approval_scores_map.get(e.oidsorted[0])<e.p.T.n_not_abstaining&&e.p.winner!=e.oidsorted[0])}}const us=function(n,i){return{share:n,option:i}};function cs(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"h3")(2,"b"),t._UZ(3,"span",13),t.ALo(4,"translate"),t.qZA()(),t.BQk()),2&n){const e=t.oxw().index,r=t.oxw(3);t.xp6(3),t.Q6J("innerHtml",t.xi3(4,1,"poll.of-the-budget-go-to",t.WLB(4,us,(100*r.p.T.shares_map.get(r.oidsorted[e])).toFixed(1),r.p.options[r.oidsorted[e]].name)),t.oJD)}}function fs(n,i){if(1&n&&(t.ynx(0),t.YNc(1,cs,5,7,"ng-container",5),t.BQk()),2&n){const e=i.index,r=t.oxw(3);t.xp6(1),t.Q6J("ngIf",r.p.T.shares_map.get(r.oidsorted[e])>0)}}const Qr=function(){return[]};function hs(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"ion-item",77),t._UZ(2,"p",13),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"ion-item",73)(5,"ion-text"),t.YNc(6,fs,2,1,"ng-container",25),t.qZA()(),t.BQk()),2&n){const e=t.oxw(2);t.xp6(2),t.Q6J("innerHtml",t.lcZ(3,2,"poll.results"),t.oJD),t.xp6(4),t.Q6J("ngForOf",t.DdM(4,Qr).constructor(e.oidsorted.length))}}function _s(n,i){1&n&&(t.ynx(0),t.TgZ(1,"ion-item",68),t._UZ(2,"p",13),t.ALo(3,"translate"),t.qZA(),t.BQk()),2&n&&(t.xp6(2),t.Q6J("innerHtml",t.lcZ(3,1,"poll.wait-for-results"),t.oJD))}function ps(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"ion-item",78),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.final_expanded=!a.final_expanded)}),t._UZ(1,"ion-icon",79),t._uU(2,"\xa0\xa0"),t.TgZ(3,"ion-label"),t._UZ(4,"span",13),t.ALo(5,"translate"),t.qZA()()}if(2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("name",e.final_expanded?"caret-down-outline":"caret-forward-outline"),t.xp6(3),t.Q6J("innerHtml",t.lcZ(5,2,"poll.final-ratings"),t.oJD)}}const ds=function(n){return{n_others:n}};function gs(n,i){if(1&n&&(t._UZ(0,"span",13),t.ALo(1,"translate")),2&n){const e=t.oxw(3);t.Q6J("innerHtml",t.xi3(1,1,1==e.n_indirect_clients?"poll.also-for-other":"poll.also-for-others",t.VKq(4,ds,e.n_indirect_clients))+" ",t.oJD)}}function ms(n,i){if(1&n&&(t._UZ(0,"span",13),t.ALo(1,"translate")),2&n){const e=t.oxw(3);t.Q6J("innerHtml",t.lcZ(1,1,0==e.n_indirect_clients?"poll.declined-all":"poll.declined-some"),t.oJD)}}function xs(n,i){if(1&n&&(t.TgZ(0,"ion-chip",85),t._UZ(1,"ion-icon",86),t.TgZ(2,"small"),t._uU(3),t.qZA()()),2&n){const e=i.$implicit;t.Q6J("routerLink",e.url),t.xp6(3),t.Oqu(e.from)}}function ys(n,i){if(1&n&&(t.TgZ(0,"ion-row")(1,"ion-col",83)(2,"small"),t._UZ(3,"span",13),t.ALo(4,"translate"),t.YNc(5,xs,4,2,"ion-chip",84),t.qZA()()()),2&n){const e=t.oxw(3);t.xp6(3),t.Q6J("innerHtml",t.lcZ(4,2,"poll.have-accepted"),t.oJD),t.xp6(2),t.Q6J("ngForOf",e.accepted_requests)}}function vs(n,i){if(1&n&&(t.TgZ(0,"ion-chip",85),t._UZ(1,"ion-icon",86),t.TgZ(2,"small"),t._uU(3),t.qZA()()),2&n){const e=i.$implicit;t.Q6J("routerLink",e.url),t.xp6(3),t.Oqu(e.from)}}function ws(n,i){if(1&n&&(t.TgZ(0,"ion-row")(1,"ion-col",83)(2,"small"),t._UZ(3,"span",13),t.ALo(4,"translate"),t.YNc(5,vs,4,2,"ion-chip",84),t.qZA()()()),2&n){const e=t.oxw(3);t.xp6(3),t.Q6J("innerHtml",t.lcZ(4,2,"poll.have-declined"),t.oJD),t.xp6(2),t.Q6J("ngForOf",e.declined_requests)}}function bs(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"ion-item",77)(1,"ion-grid",27)(2,"ion-row",80),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.incoming_delegation_expanded=!a.incoming_delegation_expanded)}),t.TgZ(3,"ion-col",81)(4,"small"),t._UZ(5,"ion-icon",82),t.YNc(6,gs,2,6,"span",20),t.YNc(7,ms,2,3,"span",20),t._uU(8," \xa0 "),t.qZA()()(),t.YNc(9,ys,6,4,"ion-row",5),t.YNc(10,ws,6,4,"ion-row",5),t.qZA()()}if(2&n){const e=t.oxw(2);t.xp6(5),t.Q6J("name",e.incoming_delegation_expanded?"chevron-down-outline":"chevron-forward-outline"),t.xp6(1),t.Q6J("ngIf",e.accepted_requests.length>0),t.xp6(1),t.Q6J("ngIf",e.declined_requests.length>0),t.xp6(2),t.Q6J("ngIf",e.incoming_delegation_expanded&&e.accepted_requests.length>0),t.xp6(1),t.Q6J("ngIf",e.incoming_delegation_expanded&&e.declined_requests.length>0)}}function As(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"ion-item",68)(1,"ion-grid",27)(2,"ion-row",87)(3,"ion-col",81)(4,"small")(5,"p")(6,"span",88),t._uU(7),t.qZA(),t._uU(8,"\xa0 "),t._UZ(9,"span",13),t.ALo(10,"translate"),t.qZA()()(),t.TgZ(11,"ion-col",89)(12,"ion-button",90),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.revoke_delegation_dialog())}),t._UZ(13,"ion-icon",91),t.qZA()()()()()}if(2&n){const e=t.oxw(2);t.xp6(7),t.Oqu(e.delegate),t.xp6(2),t.Q6J("innerHtml",t.lcZ(10,3,"poll.delegate-not-responded"),t.oJD),t.xp6(3),t.Q6J("disabled",!e.p.allow_voting)}}function Ps(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"ion-item",68)(1,"ion-grid",27)(2,"ion-row",87)(3,"ion-col",81)(4,"small")(5,"p")(6,"span",88),t._uU(7),t.qZA(),t._uU(8,"\xa0 "),t._UZ(9,"span",13),t.ALo(10,"translate"),t.qZA()()(),t.TgZ(11,"ion-col",89)(12,"ion-button",92),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.revoke_delegation_dialog())}),t._UZ(13,"ion-icon",91),t.qZA(),t._uU(14,"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 "),t.qZA(),t.TgZ(15,"ion-col",93)(16,"small")(17,"p"),t._UZ(18,"span",13),t.ALo(19,"translate"),t._uU(20,"\xa0 "),t._UZ(21,"ion-icon",94),t.qZA()()()()()()}if(2&n){const e=t.oxw(2);t.xp6(7),t.Oqu(e.delegate),t.xp6(2),t.Q6J("innerHtml",t.lcZ(10,3,"poll.delegate-controls-"+(e.n_delegated==e.oidsorted.length?"all":2*e.n_delegated>e.oidsorted.length?"most":e.n_delegated>0?"some":"none")),t.oJD),t.xp6(9),t.Q6J("innerHtml",t.lcZ(19,5,"poll.choose-whose-ratings"),t.oJD)}}function Zs(n,i){1&n&&(t._UZ(0,"span",95),t.ALo(1,"translate")),2&n&&t.Q6J("innerHtml",t.lcZ(1,1,"share"),t.oJD)}function Ts(n,i){1&n&&(t.ynx(0),t._UZ(1,"ion-icon",96),t._uU(2,"\xa0"),t._UZ(3,"span",46),t.ALo(4,"translate"),t.BQk()),2&n&&(t.xp6(3),t.Q6J("innerHtml",t.lcZ(4,1,"approval"),t.oJD))}const ks=function(n){return{delegate:n}};function Js(n,i){if(1&n){const e=t.EpF();t.O4$(),t.kcU(),t.TgZ(0,"ion-col",132),t._uU(1,"\xa0\xa0\xa0 "),t.TgZ(2,"ion-toggle",133),t.NdJ("ionChange",function(){t.CHM(e);const a=t.oxw().index,u=t.oxw(2);return t.KtG(u.on_rate_yourself_toggle_change(u.oidsorted[a]))})("ngModelChange",function(a){t.CHM(e);const u=t.oxw().index,c=t.oxw(2);return t.KtG(c.rate_yourself_toggle[c.oidsorted[u]]=a)}),t.qZA(),t.TgZ(3,"div",134),t._UZ(4,"small",13),t.ALo(5,"translate"),t.ALo(6,"translate"),t.qZA()()}if(2&n){const e=t.oxw().index,r=t.oxw(2);t.xp6(2),t.Q6J("id","rate_yourself_toggle_"+r.oidsorted[e])("disabled",!r.p.allow_voting)("ngModel",r.rate_yourself_toggle[r.oidsorted[e]]),t.xp6(2),t.Q6J("innerHtml",r.rate_yourself_toggle[r.oidsorted[e]]?t.lcZ(5,4,"poll.my-own"):t.xi3(6,6,"poll.delegate-s",t.VKq(9,ks,r.delegate)),t.oJD)}}const Ms=function(n){return{average:n}};function Ns(n,i){if(1&n&&(t.TgZ(0,"span",135),t._uU(1,", "),t._UZ(2,"span",127),t.ALo(3,"translate"),t.qZA()),2&n){const e=t.oxw().index,r=t.oxw(2);t.xp6(2),t.Q6J("innerHtml",t.xi3(3,1,"poll.average-rating",t.VKq(4,Ms,(r.p.T.total_effective_ratings_map.get(r.oidsorted[e])/r.Math.max(1,r.p.T.n_not_abstaining)).toFixed(1))),t.oJD)}}const zr=function(n){return{percentage:n}};function Cs(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"ion-item",97)(1,"ion-grid",27)(2,"ion-row",27)(3,"ion-col",98),t._UZ(4,"div",99),t.O4$(),t.TgZ(5,"svg",100),t._UZ(6,"circle",101)(7,"path",102)(8,"line",103),t.qZA()(),t.kcU(),t.TgZ(9,"ion-col")(10,"ion-grid",27)(11,"ion-row",104),t.NdJ("click",function(){const u=t.CHM(e).index,c=t.oxw(2);return t.KtG(c.expand(c.oidsorted[u]))}),t.TgZ(12,"ion-col",27),t._UZ(13,"ion-input",105),t.TgZ(14,"ion-label",106),t._UZ(15,"ion-icon",107),t.TgZ(16,"b")(17,"i"),t._uU(18,"\xa0"),t._UZ(19,"span",13),t._uU(20,"\xa0"),t.qZA()()()()(),t.TgZ(21,"ion-row",27)(22,"ion-col",108),t.NdJ("click",function(a){const c=t.CHM(e).index,d=t.oxw(2);return t.KtG(d.onRatingColClick(d.oidsorted[c],a))})("pointerdown",function(a){const c=t.CHM(e).index,d=t.oxw(2);return t.KtG(d.onRatingColPointerdown(d.oidsorted[c],a))})("touchstart",function(a){const c=t.CHM(e).index,d=t.oxw(2);return t.KtG(d.onRatingColTouchstart(d.oidsorted[c],a))})("touchup",function(a){const c=t.CHM(e).index,d=t.oxw(2);return t.KtG(d.onRatingColTouchup(d.oidsorted[c],a))})("pointerup",function(a){const c=t.CHM(e).index,d=t.oxw(2);return t.KtG(d.onRatingColPointerup(d.oidsorted[c],a))}),t.TgZ(23,"ion-range",109),t.NdJ("ionFocus",function(){const u=t.CHM(e).index,c=t.oxw(2);return t.KtG(c.onRatingSliderFocus(c.oidsorted[u]))})("ionChange",function(){const u=t.CHM(e).index,c=t.oxw(2);return t.KtG(c.onRatingSliderChange(c.oidsorted[u]))})("ionBlur",function(){const u=t.CHM(e).index,c=t.oxw(2);return t.KtG(c.onRatingSliderBlur(c.oidsorted[u]))}),t.TgZ(24,"ion-label",110)(25,"div",111),t.O4$(),t.TgZ(26,"svg",112),t._UZ(27,"rect",113)(28,"line",114)(29,"line",115),t.qZA()(),t.kcU(),t.TgZ(30,"div",116),t.O4$(),t.TgZ(31,"svg",117),t._UZ(32,"text",118),t.qZA()(),t.kcU(),t.TgZ(33,"div",119),t.O4$(),t.TgZ(34,"svg",120),t._UZ(35,"line",121)(36,"circle",122),t.qZA()()()()(),t.YNc(37,Js,7,11,"ion-col",123),t.qZA()()()(),t.kcU(),t.TgZ(38,"ion-row",27)(39,"ion-col",27)(40,"ion-grid",27)(41,"app-expandable",124)(42,"ion-row",125)(43,"ion-col",27)(44,"b")(45,"span",126),t._UZ(46,"span",127),t.ALo(47,"translate"),t.TgZ(48,"small"),t._UZ(49,"wbr")(50,"span",128),t.ALo(51,"translate"),t._uU(52,", "),t.qZA()(),t.TgZ(53,"small"),t._UZ(54,"wbr"),t.qZA(),t.TgZ(55,"span",129),t._UZ(56,"span",13),t.ALo(57,"translate"),t.qZA(),t.TgZ(58,"small"),t._UZ(59,"span",130),t.ALo(60,"translate"),t.qZA(),t.TgZ(61,"small"),t.YNc(62,Ns,4,6,"span",131),t._uU(63,"\xa0 "),t.TgZ(64,"span",129),t._uU(65," ("),t.TgZ(66,"a",72),t.NdJ("click",function(){const u=t.CHM(e).index,c=t.oxw(2);return t.KtG(c.explain_approval_dialog(c.oidsorted[u]))}),t.ALo(67,"translate"),t.qZA(),t._uU(68,") "),t.qZA()()(),t.TgZ(69,"span"),t._UZ(70,"br"),t.qZA(),t.TgZ(71,"span")(72,"i"),t._UZ(73,"span",13),t._uU(74,"\xa0\xa0"),t.qZA()(),t.TgZ(75,"span")(76,"small"),t._uU(77," ("),t.TgZ(78,"span",47),t.NdJ("click",function(){const u=t.CHM(e).index,c=t.oxw(2);return t.KtG(c.G.open_url_in_new_tab(c.G.D.fix_url(c.p.options[c.oidsorted[u]].url)))}),t._UZ(79,"ion-text",46),t.ALo(80,"translate"),t._uU(81,"\xa0"),t._UZ(82,"ion-icon",55),t.qZA(),t._uU(83,") "),t.qZA()()()()()()()()()()}if(2&n){const e=i.index,r=t.oxw(2);t.xp6(5),t.uIk("display",r.show_live||!r.p.allow_voting?"inline":"none"),t.xp6(2),t.Q6J("id","pie_"+r.oidsorted[e]),t.xp6(1),t.uIk("display",r.option_expanded[r.oidsorted[e]]?"inline":"none"),t.xp6(7),t.Q6J("name",r.option_expanded[r.oidsorted[e]]?"chevron-down-outline":"chevron-forward-outline"),t.xp6(4),t.Q6J("innerHtml",r.p.options[r.oidsorted[e]].name,t.oJD),t.xp6(3),t.Q6J("id","_slider_"+r.oidsorted[e]+"_"+r.sortingcounter),t.xp6(1),t.Akn(r.rate_yourself_toggle[r.oidsorted[e]]||"agreed"!=r.delegation_status?"pointer-events:; --bar-height: 7px; --knob-size: 35px":"pointer-events: none; --bar-height: 5px; --knob-size: 17px"),t.Q6J("disabled",!r.p.allow_voting)("id","slider_"+r.oidsorted[e]+"_"+r.sortingcounter)("color",r.show_live?r.slidercolor[r.oidsorted[e]]:"vodleblue")("value",r.p.get_my_proxy_rating(r.oidsorted[e])),t.xp6(4),t.Q6J("id","bar_"+r.oidsorted[e]),t.uIk("display",r.show_live||!r.p.allow_voting?"inline":"none"),t.xp6(1),t.uIk("display",r.show_live||!r.p.allow_voting?"inline":"none"),t.xp6(3),t.uIk("display",!r.show_live&&r.p.allow_voting||!r.option_expanded[r.oidsorted[e]]?"none":"inline"),t.xp6(1),t.Q6J("innerHtml",(r.p.T.approval_scores_map.get(r.oidsorted[e])/r.Math.max(1,r.p.T.n_not_abstaining)*100).toFixed(1)+"%\xa0\xa0",t.oJD),t.xp6(1),t.Udp("display","agreed"==r.delegation_status&&r.rate_yourself_toggle[r.oidsorted[e]]?"inline":"none"),t.xp6(2),t.Q6J("id","del_needle_"+r.oidsorted[e]),t.xp6(1),t.Q6J("id","del_knob_"+r.oidsorted[e]),t.xp6(1),t.Q6J("ngIf","agreed"==r.delegation_status),t.xp6(4),t.Q6J("id","expander_"+r.oidsorted[e]+"_"+r.sortingcounter)("expanded",r.option_expanded[r.oidsorted[e]]),t.xp6(3),t.Udp("display",r.show_live||!r.p.allow_voting?"inline":"none"),t.xp6(2),t.Q6J("innerHtml",t.xi3(47,44,"winner"==r.p.type?r.p.allow_voting?"poll.chance-to-win":"poll.final-chance-to-win":r.p.allow_voting?"poll.of-the-budget":"poll.final-budget",t.VKq(58,zr,(100*r.p.T.shares_map.get(r.oidsorted[e])).toFixed(1))),t.oJD),t.xp6(4),t.Udp("display",r.votedfor==r.oidsorted[e]?"inline":"none"),t.Q6J("innerHtml",t.lcZ(51,47,"poll.including-your-share"),t.oJD),t.xp6(6),t.Q6J("innerHtml",t.xi3(57,49,"poll.approved-by",t.VKq(60,zr,(r.p.T.approval_scores_map.get(r.oidsorted[e])/r.Math.max(1,r.p.T.n_not_abstaining)*100).toFixed(1))),t.oJD),t.xp6(3),t.Udp("display",r.approved[r.oidsorted[e]]?"inline":"none"),t.Q6J("innerHtml",t.lcZ(60,52,"poll.including-you"),t.oJD),t.xp6(3),t.Q6J("ngIf",e>0&&r.p.T.approval_scores_map.get(r.oidsorted[e-1])==r.p.T.approval_scores_map.get(r.oidsorted[e])||e<r.oidsorted.length-1&&r.p.T.approval_scores_map.get(r.oidsorted[e+1])==r.p.T.approval_scores_map.get(r.oidsorted[e])),t.xp6(4),t.Q6J("innerHtml",t.lcZ(67,54,"poll.explain"),t.oJD),t.xp6(3),t.Udp("display",!r.show_live&&r.p.allow_voting||!r.p.options[r.oidsorted[e]].desc&&!r.p.options[r.oidsorted[e]].url?"none":"inline"),t.xp6(2),t.Udp("display",""!=r.p.options[r.oidsorted[e]].desc?"inline":"none"),t.xp6(2),t.Q6J("innerHtml",r.p.options[r.oidsorted[e]].desc,t.oJD),t.xp6(2),t.Udp("display",""!=r.p.options[r.oidsorted[e]].url?"inline":"none"),t.xp6(4),t.Q6J("innerHtml",t.lcZ(80,56,"read-more"),t.oJD)}}function Es(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"ion-item",136)(2,"ion-fab-button",137),t.NdJ("click",function(a){t.CHM(e);const u=t.oxw(2);return t.KtG(u.add_option(a))}),t._UZ(3,"ion-icon",138),t.qZA(),t.TgZ(4,"ion-button",139),t.NdJ("click",function(a){t.CHM(e);const u=t.oxw(2);return t.KtG(u.add_option(a))}),t.ALo(5,"translate"),t.qZA()(),t.TgZ(6,"ion-item",140),t._UZ(7,"small",13),t.ALo(8,"translate"),t.qZA(),t.BQk()}2&n&&(t.xp6(4),t.Q6J("innerHtml",t.lcZ(5,2,"poll.add-option"),t.oJD),t.xp6(3),t.Q6J("innerHtml",t.lcZ(8,4,"poll.add-option-info"),t.oJD))}function Us(n,i){if(1&n){const e=t.EpF();t.ynx(0),t._UZ(1,"ion-item"),t.TgZ(2,"ion-item",141)(3,"ion-col")(4,"small")(5,"p",142),t._uU(6),t.qZA()()(),t.TgZ(7,"ion-buttons",6)(8,"ion-toggle",143),t.NdJ("ngModelChange",function(a){t.CHM(e);const u=t.oxw(2);return t.KtG(u.p.allow_voting=a)}),t.qZA()()(),t.BQk()}if(2&n){const e=t.oxw(2);t.xp6(6),t.Q0o(" Debugging info: cycle_len=",e.p.T.my_cycle_len,", state=",e.p.state,", vid=",e.p.myvid,", oids=",e.p.oids,", oidsorted=",e.oidsorted,"/",e.p.T.oids_descending,", scores_map=",e.G.map2str(e.p.T.scores_map),". Simulate state (off:closed, on:running): "),t.xp6(2),t.Q6J("ngModel",e.p.allow_voting)}}function Ds(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"ion-content",23),t.NdJ("pointerup",function(a){t.CHM(e);const u=t.oxw();return t.KtG(u.onBodyPointerup(a))})("ionScroll",function(a){t.CHM(e);const u=t.oxw();return t.KtG(u.onScroll(a))}),t.TgZ(1,"ion-list",24),t.YNc(2,Ea,9,2,"ion-card",25),t.TgZ(3,"ion-item",26)(4,"ion-grid",27)(5,"ion-row",27)(6,"ion-col",27),t.YNc(7,Da,3,6,"small",5),t.TgZ(8,"h3")(9,"b"),t._UZ(10,"i",13),t.qZA()()()()()(),t.YNc(11,za,9,6,"ion-item",28),t.TgZ(12,"ion-item",29)(13,"ion-grid",27)(14,"ion-row",27)(15,"ion-col",30),t.YNc(16,Sa,5,1,"ion-button",31),t.TgZ(17,"small")(18,"span",32),t.YNc(19,Ga,2,3,"ion-badge",33),t.YNc(20,qa,2,3,"span",20),t.YNc(21,Fa,2,3,"span",20),t._uU(22,"\xa0"),t._UZ(23,"b",13),t.qZA(),t._UZ(24,"br"),t.TgZ(25,"span",32),t._UZ(26,"ion-icon",34),t._uU(27,"\xa0"),t._UZ(28,"span",13),t.ALo(29,"translate"),t.qZA()(),t._UZ(30,"br"),t.TgZ(31,"small",32)(32,"span",32),t._UZ(33,"ion-icon",35),t._uU(34,"\xa0"),t.TgZ(35,"b"),t._uU(36),t.qZA(),t._uU(37,"\xa0"),t.TgZ(38,"span",36),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.glossary("non-abstaining"))}),t.ALo(39,"translate"),t.qZA(),t._uU(40,"\xa0\xa0\xa0 "),t._UZ(41,"br"),t.qZA()(),t.TgZ(42,"small",32)(43,"span",32),t._UZ(44,"ion-icon",34),t.TgZ(45,"b"),t._uU(46),t.qZA(),t._uU(47,"%\xa0"),t.TgZ(48,"span",36),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.glossary("level-of-agreement"))}),t.ALo(49,"translate"),t.qZA(),t.YNc(50,Oa,5,3,"ng-container",5),t.qZA(),t._uU(51,"\xa0 "),t.YNc(52,Ya,4,1,"ion-badge",37),t.TgZ(53,"ion-button",38),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.toggle_show_live())}),t.YNc(54,Ba,6,4,"ng-container",5),t.qZA()()()()()(),t.YNc(55,ja,6,5,"ng-container",5),t.YNc(56,ls,18,17,"ng-container",5),t.YNc(57,hs,7,5,"ng-container",5),t.YNc(58,_s,4,3,"ng-container",5),t.YNc(59,ps,6,4,"ion-item",39),t.TgZ(60,"div"),t.YNc(61,bs,11,5,"ion-item",40),t.YNc(62,As,14,5,"ion-item",41),t.YNc(63,Ps,22,7,"ion-item",41),t.TgZ(64,"ion-item",42)(65,"small",43),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.show_live||!a.p.allow_voting?a.glossary("share"):null)}),t.YNc(66,Zs,2,3,"span",44),t.qZA(),t.TgZ(67,"small",45),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.glossary("wap"))}),t._UZ(68,"span",46),t.ALo(69,"translate"),t.qZA(),t.TgZ(70,"small",47),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.show_live||!a.p.allow_voting?a.glossary("approve"):null)}),t.YNc(71,Ts,5,3,"ng-container",5),t.qZA()(),t.YNc(72,Cs,84,62,"ion-item",48),t.YNc(73,Es,9,6,"ng-container",5),t.qZA(),t.YNc(74,Us,9,8,"ng-container",5),t.qZA()()}if(2&n){const e=t.oxw();t.Q6J("scrollEvents",!0),t.xp6(2),t.Q6J("ngForOf",e.news),t.xp6(5),t.Q6J("ngIf",!!e.p.language&&e.p.language!=e.G.S.language),t.xp6(3),t.Q6J("innerHtml",e.p.title,t.oJD),t.xp6(1),t.Q6J("ngIf",""!=(e.p.desc||"")||""!=(e.p.url||"")),t.xp6(5),t.Q6J("ngIf",e.p.allow_voting),t.xp6(3),t.Q6J("ngIf",e.p.allow_voting&&e.p.is_closing_soon),t.xp6(1),t.Q6J("ngIf",e.p.allow_voting&&!e.p.is_closing_soon),t.xp6(1),t.Q6J("ngIf",!e.p.allow_voting),t.xp6(2),t.Q6J("innerHtml",e.G.D.format_date(e.p.due),t.oJD),t.xp6(3),t.Q6J("name","share"==e.p.type?"cut-outline":"trophy-outline"),t.xp6(2),t.Q6J("innerHtml",t.lcZ(29,39,"share"==e.p.type?"poll.type-share":"poll.type-winner"),t.oJD),t.xp6(8),t.Oqu(e.p.T.n_not_abstaining),t.xp6(2),t.Q6J("innerHtml",t.lcZ(39,41,"non-abstaining-voters"),t.oJD),t.xp6(6),t.Q6J("name",1==e.p.agreement_level?"checkmark-done-outline":"analytics-outline"),t.xp6(2),t.hij("\xa0",(100*e.p.agreement_level).toFixed(1),""),t.xp6(2),t.Q6J("innerHtml",t.lcZ(49,43,"poll.level-of-agreement"),t.oJD),t.xp6(2),t.Q6J("ngIf",e.p.T.n_not_abstaining>0),t.xp6(2),t.Q6J("ngIf",!1),t.xp6(1),t.Q6J("disabled",!e.p.allow_voting),t.xp6(1),t.Q6J("ngIf",e.p.allow_voting),t.xp6(1),t.Q6J("ngIf",e.p.allow_voting),t.xp6(1),t.Q6J("ngIf",e.p.has_results&&"winner"==e.p.type),t.xp6(1),t.Q6J("ngIf",e.p.has_results&&"share"==e.p.type),t.xp6(1),t.Q6J("ngIf",!e.p.allow_voting&&!e.p.has_results),t.xp6(1),t.Q6J("ngIf",!e.p.allow_voting),t.xp6(1),t.Udp("display",e.p.allow_voting||e.final_expanded?"block":"none"),t.xp6(1),t.Q6J("ngIf",e.accepted_requests.length>0||e.declined_requests.length>0),t.xp6(1),t.Q6J("ngIf","pending"==e.delegation_status),t.xp6(1),t.Q6J("ngIf","agreed"==e.delegation_status),t.xp6(3),t.Q6J("ngIf",e.show_live||!e.p.allow_voting),t.xp6(2),t.Q6J("innerHtml",t.lcZ(69,45,"poll.your-wap"),t.oJD),t.xp6(2),t.Akn("padding-top: 8px!important; padding-right: "+("agreed"==e.delegation_status?62:10)+"px; color: #769596;"),t.xp6(1),t.Q6J("ngIf",e.show_live||!e.p.allow_voting),t.xp6(1),t.Q6J("ngForOf",t.DdM(47,Qr).constructor(e.oidsorted.length)),t.xp6(1),t.Q6J("ngIf",e.p.allow_voting),t.xp6(1),t.Q6J("ngIf",e.E.show_debug_info)}}function Ls(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"ion-footer",144)(1,"ion-item",77)(2,"ion-text")(3,"ion-button",145),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.dismiss_glossary())}),t._UZ(4,"ion-icon",146),t.qZA(),t._UZ(5,"small",13),t.ALo(6,"translate"),t.qZA()()()}if(2&n){const e=t.oxw();t.xp6(5),t.Q6J("innerHtml",t.lcZ(6,1,"glossary."+e.glossary_key),t.oJD)}}let Rr=(()=>{class n{constructor(e,r,a,u,c,d,x,A,Z,Q){this.changeDetector=e,this.router=r,this.route=a,this.routerOutlet=u,this.loadingController=c,this.alertCtrl=d,this.popover=x,this.modalController=A,this.translate=Z,this.G=Q,this.Array=Array,this.Math=Math,this.Object=Object,this.window=window,this.E=Et.N,this.page="poll",this.delegation_status="none",this.n_indirect_clients=1,this.accepted_requests=[],this.declined_requests=[],this.oidsorted=[],this.sortingcounter=0,this.approved={},this.votedfor=null,this.show_live=!1,this.final_expanded=!1,this.details_expanded=!0,this.incoming_delegation_expanded=!1,this.option_expanded={},this.pieradius=20,this.two_pi=2*Math.PI,this.slidercolor={},this.refresh_paused=!1,this.needs_refresh=!1,this.scroll_position=0,this.rate_yourself_toggle={},this.n_delegated=0,this.news=new Set,this.ready=!1,this.listeners=new Map,this.final_rand=0,this.dragged_oid=void 0,this.currentModal=null,this.show_glossary=!1,this.G.L.entry("PollsPage.constructor"),this.route.params.subscribe(nt=>{this.pid=nt.pid})}ngOnInit(){this.G.L.entry("PollsPage.ngOnInit")}ionViewWillEnter(){this.G.L.entry("PollPage.ionViewWillEnter"),this.G.D.page=this;const e=a=>{this.changeDetector.detectChanges()};window.addEventListener("offline",e),window.addEventListener("online",e);const r=JSON.parse(this.G.D.getp(this.pid,"poll_page")||"{}");this.show_live=1==r.show_live,this.details_expanded=0!=r.details_expanded,this.incoming_delegation_expanded=1==r.incoming_delegation_expanded,this.option_expanded=r.option_expanded||{},this.G.L.exit("PollPage.ionViewWillEnter",r)}ionViewDidEnter(){this.G.L.entry("PollPage.ionViewDidEnter"),this.G.D.ready&&this.onDataReady(),this.G.L.debug("PollPage.ready:",this.ready)}onDataReady(){if(this.G.L.entry("PollPage.onDataReady"),!(this.pid in this.G.P.polls))return this.G.L.warn("PollPage unknown pid ignored, redirecting to mypolls page",this.pid,this.G.P.polls),void this.router.navigate(["/mypolls"]);if(this.p=this.G.P.polls[this.pid],"draft"==this.p.state?(this.G.L.error("PollPage not showing draft poll, redirecting to mypolls page",this.pid),this.router.navigate(["/mypolls"])):this.G.L.info("PollPage showing poll",this.pid),this.p.allow_voting){this.G.L.info("PollPage checking if default waps are needed",this.pid);for(let e of this.p.oids)this.p.own_ratings_map.get(e).has(this.p.myvid)||(this.G.L.info("PollPage setting default wap",this.pid,e,this.G.S.default_wap),this.p.set_my_own_rating(e,this.G.S.default_wap,!0))}this.p.tally_all(),this.oidsorted=[...this.p.T.oids_descending],this.ready=!0,this.update_order(!0),window.setTimeout(()=>{this.update_order.bind(this)(!0),this.show_stats.bind(this)()},200),this.update_delegation_info(),this.on_delegate_toggle_change(),this.p.have_seen=!0,this.p.has_results&&(this.p.have_seen_results=!0),this.G.L.exit("PollPage.onDataReady")}onDataChange(){this.G.L.entry("PollPage.onDataChange"),this.p.tally_all(),this.update_order(),this.update_delegation_info(),this.news=this.G.N.filter({pid:this.pid}),this.changeDetector.detectChanges(),this.G.L.exit("PollPage.onDataChange")}ionViewWillLeave(){this.p.has_results&&(this.p.have_seen_results=!0);for(let r of this.oidsorted)(!this.delegate||this.rate_yourself_toggle[r])&&this.p.set_my_own_rating(r,Math.round(this.get_slider_value(r)),!0);for(const r of this.news)r.auto_dismiss&&this.G.N.dismiss(r.key);const e={show_live:this.show_live,details_expanded:this.details_expanded,incoming_delegation_expanded:this.incoming_delegation_expanded,option_expanded:this.option_expanded};this.G.D.setp(this.pid,"poll_page",JSON.stringify(e)),this.G.L.exit("PollPage.ionViewWillLeave",e)}ionViewDidLeave(){this.G.L.entry("PollPage.ionViewDidLeave"),this.G.D.save_state(),this.G.L.exit("PollPage.ionViewDidLeave")}update_delegation_info(){this.n_indirect_clients=this.p.get_n_indirect_clients(this.p.myvid);const e=this.G.D.incoming_dids_caches[this.pid];if(this.accepted_requests=[],this.declined_requests=[],e)for(const[a,[u,c,d]]of e)"agreed"==d?this.accepted_requests.push({from:u,url:c}):d.startsWith("declined")&&this.declined_requests.push({from:u,url:c});const r=this.G.Del.get_my_outgoing_dids_cache(this.pid).get("*");if(this.G.L.trace("PollPage.update_delegation_info did",r),r){this.delegate=this.G.Del.get_delegate_nickname(this.pid,r);const a=this.G.Del.get_agreement(this.pid,r);this.G.L.trace("PollPage.update_delegation_info agreement",a),this.delegation_status=a.status}this.update_delegation_toggles()}update_delegation_toggles(){for(let e of this.oidsorted){let r=this.G.Del.get_my_outgoing_dids_cache(this.pid).get(e);if(r||(r=this.G.Del.get_my_outgoing_dids_cache(this.pid).get("*")),r){const a=this.G.Del.get_agreement(this.pid,r);this.G.L.trace("PollPage found did, agreement",e,r,a,[...a.accepted_oids],[...a.active_oids]),this.rate_yourself_toggle[e]=!a.active_oids.has(e)}else this.G.L.trace("PollPage found no did for",e),this.rate_yourself_toggle[e]=!0}}onScroll(e){var r=this;return(0,Bt.Z)(function*(){r.scroll_position=e.detail.scrollTop})()}on_rate_yourself_toggle_change(e){this.G.Del.update_my_delegation(this.pid,e,!this.rate_yourself_toggle[e]),this.on_delegate_toggle_change()}on_delegate_toggle_change(){let e=0;for(let[r,a]of Object.entries(this.rate_yourself_toggle))a||e++;this.n_delegated=e}show_stats(){if(!this.ready)return;this.G.L.entry("PollPage.show_stats");const e=this.p,r=e.T,a=e.myvid,u=r.approval_scores_map,c=r.shares_map,d=r.approvals_map;this.votedfor=r.votes_map.get(this.p.myvid);for(const x of e.oids){const A=u.get(x)/r.n_not_abstaining||0,Z=c.get(x),Q=document.getElementById("bar_"+x),nt=document.getElementById("pie_"+x),rt=this.pieradius,jt=rt*Math.sin(this.two_pi*Z),nn=rt*(1-Math.cos(this.two_pi*Z)),z=Z>.5?1:0;if(this.approved[x]=d.get(x).get(a),Q?(Q.width.baseVal.valueAsString=(100*A).toString()+"%",Q.x.baseVal.valueAsString=(100*(1-A)).toString()+"%"):this.G.L.warn("PollPage.show_stats couldn't change slider bar",x),nt?nt.setAttribute("d",Z<1?"M 21,25 l 0,-"+rt+" a "+rt+" "+rt+" 0 "+z+" 1 "+jt+" "+nn+" Z":"M 21,25 l 0,-20 a 20 20 0 1 1 0 "+2*rt+" a 20 20 0 1 1 0 "+-2*rt+" Z"):this.G.L.warn("PollPage.show_stats couldn't change pie piece",x),this.set_slider_color(x,e.get_my_proxy_rating(x)),this.rate_yourself_toggle[x]){const H=document.getElementById("del_needle_"+x),ft=document.getElementById("del_knob_"+x),it=this.G.Del.get_potential_effective_delegate(this.pid,x);if(it){const Tt=(this.p.proxy_ratings_map.get(x)||new Map).get(it)||0;this.G.L.trace("PollPage.show_stats rating",Tt),H&&(H.x2.baseVal.valueAsString=Tt.toString()+"%"),ft&&(ft.cx.baseVal.valueAsString=Tt.toString()+"%")}}}}update_order(e=!1){var r=this;return(0,Bt.Z)(function*(){if(r.oidsorted.length!=r.p.oids.length)r.needs_refresh=!0;else for(let a in r.oidsorted)if(r.oidsorted[a]!=r.p.T.oids_descending[a]){r.needs_refresh=!0;break}if(e||r.show_live&&r.needs_refresh&&!r.refresh_paused&&!r.dragged_oid){if(!e){const a=yield r.loadingController.create({message:r.translate.instant("poll.sorting"),spinner:"crescent",duration:100});yield a.present(),yield a.onDidDismiss()}r.oidsorted=[...r.p.T.oids_descending],r.sortingcounter++,r.needs_refresh=!1,setTimeout(()=>{r.show_stats.bind(r)();for(let a in r.oidsorted){const u=r.oidsorted[a],c=document.getElementById("_slider_"+r.oidsorted[a]+"_"+r.sortingcounter),d=Q=>{r.onRatingColPointerdown.bind(r)(u,Q)},x=Q=>{r.onRatingColPointerup.bind(r)(u,Q)},A=Q=>{r.onRatingColTouchstart.bind(r)(u,Q)},Z=Q=>{r.onRatingColTouchup.bind(r)(u,Q)};if(c){if(r.listeners.has(c)){r.G.L.trace("PollPage.update_order removing old event listeners");const Q=r.listeners.get(c);c.removeEventListener("pointerdown",Q[0],!0),c.removeEventListener("pointerup",Q[1],!0),c.removeEventListener("touchstart",Q[2],!0),c.removeEventListener("touchup",Q[3],!0)}c.addEventListener("pointerdown",d,!0),c.addEventListener("pointerup",x,!0),c.addEventListener("touchstart",A,!0),c.addEventListener("touchup",Z,!0),r.listeners.set(c,[d,x,A,Z])}}r.G.L.trace("PollPage.update_order registered event listeners",r.sortingcounter)},100)}})()}set_slider_color(e,r){this.slidercolor[e]=0==r?"vodlered":this.votedfor==e?"vodledarkgreen":r+100*(this.p.T.approval_scores_map.get(e)/this.p.T.n_not_abstaining||0)<=100?"vodleblue":"vodlegreen"}toggle_show_live(){this.show_live=!this.show_live,this.show_live&&this.update_order()}expand(e){this.option_expanded[e]=!this.option_expanded[e]}get_slider(e){return this.G.L.trace("PollPage.get_slider ",this.sortingcounter),document.getElementById("slider_"+e+"_"+this.sortingcounter)}set_slider_values(){for(let e of this.p.oids)this.get_slider(e).value=this.p.proxy_ratings_map.get(e).get(this.p.myvid).toString()}get_slider_value(e){const r=this.get_slider(e);return r?Number(r.value):0}apply_sliders_rating(e){(!this.delegate||this.rate_yourself_toggle[e])&&this.p.set_my_own_rating(e,Math.round(this.get_slider_value(e)),!1),this.show_stats()}onRatingSliderFocus(e){return this.G.L.entry("PollPage.onRatingSliderFocus"),!0}onRatingSliderChange(e){var r=this.get_slider(e),a=Number(r.value);return this.set_slider_color(e,a),this.apply_sliders_rating(e),!0}onRatingSliderBlur(e){return this.G.L.entry("PollPage.onRatingSliderBlur"),this.rating_change_ended(e),!0}rating_change_ended(e){this.G.L.entry("PollPage.rating_change_ended"),this.p.have_acted=!0,(!this.delegate||this.rate_yourself_toggle[e])&&this.p.set_my_own_rating(e,Math.round(this.get_slider_value(e)),!0),this.update_order(),this.G.D.save_state()}onRatingColPointerdown(e,r){if(this.p.end_if_past_due(),!this.p.allow_voting)return!1;this.dragged_oid=e;const a=this.get_knob_pos(e),u=r?r instanceof PointerEvent?r.clientX:r.touches[0].clientX:0;return this.G.L.entry("onRatingColPointerdown",this.sortingcounter,e,this.p.options[e].name,u,a),!(u<a.left||u>a.right)||(this.swallow_event(r),!1)}onRatingColTouchstart(e,r){if(this.p.end_if_past_due(),!this.p.allow_voting)return!1;this.dragged_oid=e;const a=this.get_knob_pos(e),u=r?r instanceof PointerEvent?r.clientX:r.touches[0].clientX:0;return this.G.L.entry("onRatingColTouchstart",e,u,a),!(u<a.left||u>a.right)||(this.swallow_event(r),!1)}onRatingColPointerup(e,r){return this.p.end_if_past_due(),!!this.p.allow_voting&&(this.G.L.entry("onRatingColPointerup",e,this.dragged_oid),e!=this.dragged_oid?(this.swallow_event(r),this.dragged_oid=null,this.update_order(),!1):(this.rating_change_ended(e),this.dragged_oid=null,!0))}onRatingColTouchup(e,r){return this.p.end_if_past_due(),!!this.p.allow_voting&&(this.G.L.entry("onRatingColTouchup",e,this.dragged_oid),e!=this.dragged_oid?(this.swallow_event(r),this.dragged_oid=null,this.update_order(),!1):(this.rating_change_ended(e),this.dragged_oid=null,!0))}onRatingColClick(e,r){if(this.p.end_if_past_due(),!this.p.allow_voting)return!1;const a=this.get_knob_pos(e),u=r.clientX;return this.G.L.entry("onRatingColClick",e,this.p.options[e].name,u,a),!(u<a.left||u>a.right)||(this.swallow_event(r),!1)}onBodyPointerup(e){return this.p.end_if_past_due(),!!this.p.allow_voting&&(this.dragged_oid&&(this.G.L.entry("onBodyPointerup"),this.onRatingColPointerup(this.dragged_oid,e)),!0)}onBodyTouchup(e){return this.p.end_if_past_due(),!!this.p.allow_voting&&(this.dragged_oid&&(this.G.L.entry("onBodyTouchup"),this.onRatingColTouchup(this.dragged_oid,e)),!0)}get_knob_pos(e){const r=this.get_slider(e),a=this.get_screen_coords(r),u=this.get_slider_value(e),c=a.left+(a.right-a.left)*u/100;return this.G.L.trace("pointer slider value",u),{left:c-20,right:c+20}}get_screen_coords(e){return e?e.getBoundingClientRect():new DOMRect}swallow_event(e){this.G.L.trace("swallowing event",e),e&&(e.stopPropagation(),e.stopImmediatePropagation(),e.preventDefault())}checkmark_clicked(){var e=this;return(0,Bt.Z)(function*(){yield(yield e.alertCtrl.create({message:e.translate.instant("poll.checkmark-clicked"),buttons:[{text:e.translate.instant("OK"),role:"Ok",handler:()=>{}}]})).present()})()}delegate_dialog(e){this.p.end_if_past_due(),this.p.allow_voting&&this.popover.create({event:e,component:Kt.DelegationDialogPage,translucent:!0,showBackdrop:!0,componentProps:{parent:this}}).then(r=>{r.present()})}assist_dialog(){var e=this;return(0,Bt.Z)(function*(){if(e.p.end_if_past_due(),e.p.allow_voting){const r=yield e.modalController.create({component:kt.AssistPage,componentProps:{P:e},backdropDismiss:!1});r.present(),e.currentModal=r}})()}analysis_dialog(){var e=this;return(0,Bt.Z)(function*(){e.p.end_if_past_due();const r=yield e.modalController.create({component:Ir,cssClass:"analysis",componentProps:{P:e},backdropDismiss:!0});r.present(),e.currentModal=r})()}explain_approval_dialog(e){this.modalController.create({component:va.ExplainApprovalPage,cssClass:"explain-approval",showBackdrop:!0,componentProps:{parent:this,oid:e},swipeToClose:!0,presentingElement:this.routerOutlet.nativeEl}).then(r=>{r.present()})}revoke_delegation_dialog(){var e=this;return(0,Bt.Z)(function*(){e.p.end_if_past_due(),e.p.allow_voting&&(yield(yield e.alertCtrl.create({message:e.translate.instant("poll.revoke_delegation",{nickname:e.delegate}),buttons:[{text:e.translate.instant("cancel"),role:"Cancel",handler:()=>{console.log("Confirm Cancel.")}},{text:e.translate.instant("OK"),role:"Ok",handler:()=>{e.G.Del.revoke_delegation(e.pid,e.G.Del.get_my_outgoing_dids_cache(e.pid).get("*"),"*"),e.delegate=null,e.delegation_status="none",e.update_delegation_info(),e.G.D.save_state()}}]})).present())})()}add_option(e){this.p.end_if_past_due(),this.p.allow_voting&&this.popover.create({event:e,side:"top",component:ya.AddoptionDialogPage,translucent:!0,showBackdrop:!0,cssClass:"add-option-class",componentProps:{parent:this}}).then(r=>{r.present()})}glossary(e){this.glossary_key=e,this.show_glossary=!0}dismiss_glossary(){this.show_glossary=!1}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.sBO),t.Y36($t.F0),t.Y36($t.gz),t.Y36($.jP),t.Y36($.HT),t.Y36($.Br),t.Y36($.Dh),t.Y36($.IN),t.Y36(Rt.sK),t.Y36(Lr.U))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-poll"]],viewQuery:function(e,r){if(1&e&&t.Gf($.W2,5),2&e){let a;t.iGM(a=t.CRH())&&(r.content=a.first)}},decls:13,vars:8,consts:[[3,"pointerup","touchup"],[2,"padding-right","11px","padding-left","16px"],["slot","start",2,"margin-right","0px","margin-left","0px","padding-left","0px","padding-right","0px"],[2,"padding-left","0px!important","padding-right","0px!important","position","relative","left","-9px"],["style","font-weight: bold; font-size: larger; padding-left: 0px;",3,"innerHtml",4,"ngIf"],[4,"ngIf"],["slot","end"],["name","crescent","color","grey",4,"ngIf"],["class","ion-no-margin ion-no-padding","fill","clear",3,"click",4,"ngIf"],["shape","round","size","large","color","primary","class","ion-no-padding ion-no-margin",3,"click",4,"ngIf"],[3,"scrollEvents","pointerup","ionScroll",4,"ngIf"],["style","box-shadow: 0px -3px 4px #eeeeee;",4,"ngIf"],[2,"font-weight","bold","font-size","larger","padding-left","0px",3,"innerHtml"],[3,"innerHtml"],["name","cloud-offline-outline","color","grey",2,"position","relative","bottom","-1px"],["name","alert-outline","color","grey"],["name","crescent","color","grey"],["fill","clear",1,"ion-no-margin","ion-no-padding",3,"click"],["size","large","name","checkmark","color","grey","slot","icon-only"],["shape","round","size","large","color","primary",1,"ion-no-padding","ion-no-margin",3,"click"],[3,"innerHtml",4,"ngIf"],["shape","round","fill","solid","color","primary",1,"ion-no-margin","ion-no-padding",2,"position","relative","right","-4px",3,"disabled"],["src","./assets/icon/delegate-simple.svg",1,"ion-no-margin","ion-no-padding"],[3,"scrollEvents","pointerup","ionScroll"],["lines","full",1,"ion-no-margin","ion-no-padding"],[4,"ngFor","ngForOf"],["color","primary","lines","none",1,"ion-no-margin"],[1,"ion-no-padding","ion-no-margin"],["color","primary","class","ion-padding-left ion-padding-right","style","cursor: pointer; --min-height: 0!important;",3,"click",4,"ngIf"],["color","primary",1,"ion-no-margin","ion-padding-left","ion-padding-right"],[1,"ion-no-padding","ion-no-margin",2,"padding-bottom","8px","padding-top","2px"],["size","small","fill","clear","class","ion-float-right ion-no-padding ion-no-margin","style","position: relative; top: 5px; right: 10px; margin-left:20px; margin-bottom:5px!important;",3,"click",4,"ngIf"],[2,"white-space","nowrap"],["class","ion-no-margin","style","position: relative; bottom: -5.5px; font-size: 11.5px;","color","danger",3,"innerHtml",4,"ngIf"],["color","light",2,"position","relative","top","2px",3,"name"],["color","light","name","people-outline",2,"position","relative","top","2px"],[1,"externallink",3,"innerHtml","click"],["class","ion-no-margin","style","position: relative; bottom:-6px; font-size: 11.5px; padding-top:2px","color","success",3,"click",4,"ngIf"],["size","small","fill","clear",1,"ion-no-padding","ion-no-margin",2,"position","absolute","right","8.5px","bottom","8px",3,"disabled","click"],["color","light","style","cursor: pointer;",3,"click",4,"ngIf"],["color","light",4,"ngIf"],["color","warning",4,"ngIf"],["lines","none",1,"ion-no-padding","ion-no-margin",2,"--min-height","0px!important","font-weight","bold"],[2,"padding-top","8px!important","padding-left","6px","width","68px!important","color","#769596","text-align","center",3,"click"],["style","width: 100%!important","class","externallink",3,"innerHtml",4,"ngIf"],[2,"padding-left","6px!important","padding-top","8px!important","flex-grow","1","color","#769596",3,"click"],[1,"externallink",3,"innerHtml"],[3,"click"],["style","align-items:flex-start",4,"ngFor","ngForOf"],[1,"ion-no-margin","ion-no-padding"],["lines","none","color","warning",1,"ion-no-margin","ion-no-padding","item-text-wrap"],["slot","end","fill","clear","size","small",1,"ion-no-margin","ion-no-padding",3,"click"],["slot","icon-only","name","close-outline",2,"color","gray!important"],["color","primary",1,"ion-padding-left","ion-padding-right",2,"cursor","pointer","--min-height","0!important",3,"click"],[1,"ion-no-padding","ion-padding-bottom","ion-no-margin",2,"width","100%"],["name","open-outline",2,"position","relative","top","2px"],["size","small","fill","clear",1,"ion-float-right","ion-no-padding","ion-no-margin",2,"position","relative","top","5px","right","10px","margin-left","20px","margin-bottom","5px!important",3,"click"],["style","color:#88e950; white-space: normal; text-align: right; font-size: 11.5px;",3,"innerHtml",4,"ngIf"],["shape","round","color","success",1,"ion-no-padding","ion-no-margin"],["name","color-wand-outline","slot","icon-only",2,"margin","5px"],[2,"color","#88e950","white-space","normal","text-align","right","font-size","11.5px",3,"innerHtml"],["color","danger",1,"ion-no-margin",2,"position","relative","bottom","-5.5px","font-size","11.5px",3,"innerHtml"],["color","success",1,"ion-no-margin",2,"position","relative","bottom","-6px","font-size","11.5px","padding-top","2px",3,"click"],["name","bulb-outline",1,"ion-no-padding","ion-no-margin",2,"position","relative","top","1.5px"],["size","small","shape","round","color","success",1,"ion-no-border","ion-no-padding"],["slot","icon-only",2,"padding-left","4px","padding-right","5px",3,"name"],["color","danger",4,"ngIf"],["color","secondary",4,"ngIf"],["color","warning"],[2,"font-size","medium",3,"innerHtml"],[2,"cursor","pointer","white-space","nowrap",3,"click"],["name","help-circle-outline",2,"font-size","16px","position","relative","top","4px"],[3,"innerHtml","click"],["color","danger"],[1,"externallink",2,"font-size","medium",3,"innerHtml"],["name","help-circle-outline",2,"font-size","16px","position","relative","top","3px"],["color","secondary"],["color","light"],["color","light",2,"cursor","pointer",3,"click"],["size","small","color","primary",3,"name"],[1,"ion-no-padding","ion-no-margin",2,"padding-top","5px","padding-bottom","6px","cursor","pointer",3,"click"],[1,"ion-no-margin","ion-padding-right"],["size","smaller",1,"ion-no-margin",2,"color","black","position","relative","left","-2px","top","2px",3,"name"],[1,"ion-text-right"],["outline","true",3,"routerLink",4,"ngFor","ngForOf"],["outline","true",3,"routerLink"],["name","mail-open-outline","size","small",2,"color","grey"],[1,"ion-no-padding","ion-no-margin","ion-align-items-center"],[2,"font-size","medium"],["size","auto",1,"ion-no-margin"],["fill","clear",3,"disabled","click"],["name","trash-outline",2,"color","black"],["fill","clear",3,"click"],["size","auto",1,"ion-no-padding","ion-no-margin","ion-padding-left","ion-text-right",2,"padding-bottom","3px"],["name","arrow-down-outline",2,"position","relative","top","3px"],[1,"externallink",2,"width","100%!important",3,"innerHtml"],["name","caret-down",2,"position","relative","top","2px"],[2,"align-items","flex-start"],["size","auto",1,"ion-no-padding","ion-no-margin"],[2,"width","60px!important"],["xmlns","http://www.w3.org/2000/svg","width","60px","height","60px",2,"position","absolute","bottom","0px"],["cx","21","cy","25","r","20","fill","#bce4e5","stroke","none"],["d","M 21,25 l 0,-20 a 20 20 0 0 1 0 0 Z","fill","#9abcbd",3,"id"],["x1","21","y1","48","x2","21","y2","60","stroke","#769596","stroke-width","1","stroke-dasharray","1 1"],[1,"ion-no-padding","ion-no-margin",2,"padding-top","8px","cursor","pointer","position","relative","left","-6px","z-index","20",3,"click"],[2,"display","none"],[1,"ion-no-padding","ion-no-margin",2,"max-width","100%!important"],["size","small",1,"ion-no-margin",2,"color","black","position","relative","top","3px",3,"name"],[1,"ion-no-padding","ion-no-margin",3,"id","click","pointerdown","touchstart","touchup","pointerup"],["mode","md","pin","true","min","0","max","100","step","1","snaps","true","ticks","false",1,"ion-no-padding","ion-no-margin",3,"disabled","id","color","value","ionFocus","ionChange","ionBlur"],["slot","end",1,"ion-no-padding","ion-no-margin",2,"margin-right","12px"],[2,"position","absolute","bottom","0px","right","11px","z-index","-10","width","100%","padding-left","11px"],["xmlns","http://www.w3.org/2000/svg","width","100%","height","35px"],["x","100%","width","0%","y","8","height","18","fill","#bce4e5","stroke","none",3,"id"],["x1","100%","y1","0","x2","100%","y2","34","fill","none","stroke","#bce4e5","stroke-width","5"],["x1","0%","x2","100%","y1","17","y2","17","stroke","#b4dbdb","stroke-width","2","stroke-dasharray","2 2"],[2,"position","absolute","bottom","0px","right","11px","z-index","10","width","100%","padding-left","11px","pointer-events","none"],["xmlns","http://www.w3.org/2000/svg","width","100%","height","45px"],["x","100%","y","15","text-anchor","end","fill","#9abcbd",2,"font-weight","bold","font-size","12px",3,"innerHtml"],[2,"position","absolute","top","-2px","right","11px","z-index","-5","width","100%","padding-left","11px"],["xmlns","http://www.w3.org/2000/svg","width","100%","height","15px"],["x1","0","y1","8","x2","50%","y2","8","fill","none","stroke","#9abcbd","stroke-width","2","stroke-dasharray","3 2",3,"id"],["cx","50%","cy","8","r","5","fill","#9abcbd","stroke","none",3,"id"],["class","ion-no-margin ion-no-padding","size","auto",4,"ngIf"],[3,"id","expanded"],[1,"ion-no-padding","ion-padding-bottom","ion-no-margin"],[2,"color","#769596"],[2,"white-space","nowrap",3,"innerHtml"],[2,"color","#4c822e",3,"innerHtml"],[2,"color","#9abcbd","white-space","nowrap"],[2,"color","#62a73b",3,"innerHtml"],["style","color:#9abcbd",4,"ngIf"],["size","auto",1,"ion-no-margin","ion-no-padding"],[1,"ion-no-margin","ion-no-padding","ion-padding-bottom","ion-padding-top",2,"position","relative","top","-8px",3,"id","disabled","ngModel","ionChange","ngModelChange"],[2,"position","absolute","z-index","10","top","22px","right","1px","text-align","right"],[2,"color","#9abcbd"],["lines","none",1,"ion-no-padding",2,"padding-left","10px","padding-top","10px"],["size","small","fill","clear","color","primary",3,"click"],["name","add"],["fill","clear",1,"ion-no-padding","ion-no-margin",3,"innerHtml","click"],["lines","none",2,"padding-bottom","10px!important"],["lines","none",1,"ion-text-right"],[2,"color","grey"],["color","light",3,"ngModel","ngModelChange"],[2,"box-shadow","0px -3px 4px #eeeeee"],["fill","clear",1,"ion-float-right","ion-margin-right","ion-margin-left","ion-no-padding",2,"position","relative","right","-6px","top","3px",3,"click"],["slot","icon-only","name","close","color","primary",1,"ion-no-margin","ion-no-padding"]],template:function(e,r){1&e&&(t.TgZ(0,"ion-header",0),t.NdJ("pointerup",function(u){return r.onBodyPointerup(u)})("touchup",function(u){return r.onBodyTouchup(u)}),t.TgZ(1,"ion-toolbar",1)(2,"ion-buttons",2),t._UZ(3,"ion-menu-button",3),t.qZA(),t.YNc(4,Pa,2,3,"ion-text",4),t.YNc(5,Za,3,1,"ion-text",5),t.TgZ(6,"ion-buttons",6),t.YNc(7,Ta,3,0,"ng-container",5),t.YNc(8,ka,1,0,"ion-spinner",7),t.YNc(9,Ja,2,0,"ion-button",8),t.YNc(10,Na,4,2,"ion-button",9),t.qZA()()(),t.YNc(11,Ds,75,48,"ion-content",10),t.YNc(12,Ls,7,3,"ion-footer",11)),2&e&&(t.xp6(4),t.Q6J("ngIf",r.scroll_position<70),t.xp6(1),t.Q6J("ngIf",r.scroll_position>=70),t.xp6(2),t.Q6J("ngIf",!r.window.navigator.onLine),t.xp6(1),t.Q6J("ngIf",!!r.p&&r.p.syncing&&r.window.navigator.onLine),t.xp6(1),t.Q6J("ngIf",!!r.p&&r.p.have_acted&&!r.p.syncing&&r.window.navigator.onLine),t.xp6(1),t.Q6J("ngIf",!!r.p&&"agreed"!=r.delegation_status&&r.p.allow_voting),t.xp6(1),t.Q6J("ngIf",r.ready&&!!r.p),t.xp6(1),t.Q6J("ngIf",r.show_glossary))},dependencies:[ot.sg,ot.O5,gt.JJ,gt.On,$.yp,$.YG,$.Sm,$.PM,$.FN,$.hM,$.wI,$.W2,$.W4,$.fr,$.jY,$.Gu,$.gu,$.pK,$.Ie,$.Q$,$.q_,$.fG,$.I_,$.Nd,$.PQ,$.yW,$.ho,$.sr,$.w,$.QI,$.j9,$.YI,$t.rH,Aa,Rt.X$],styles:['@charset "UTF-8";']}),n})();const Hs=[{path:"",component:Rr}];let Is=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[$t.Bz.forChild(Hs),$t.Bz]}),n})();var Qs=B(4496);let zs=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[ot.ez,gt.u5,$.Pc,Is,Qs.m,Rt.aw.forChild()]}),n})()},9089:function(zn,Ot,B){!function(ot,gt,Rt){"use strict";var $=1e-10;function $t(f,p){var M,g=function Et(f){for(var p=[],g=0;g<f.length;++g)for(var _=g+1;_<f.length;++_)for(var y=Pt(f[g],f[_]),v=0;v<y.length;++v){var k=y[v];k.parentIndex=[g,_],p.push(k)}return p}(f),_=g.filter(function(qt){return function Bt(f,p){for(var g=0;g<p.length;++g)if(kt(f,p[g])>p[g].radius+$)return!1;return!0}(qt,f)}),y=0,v=0,k=[];if(_.length>1){var C=Ct(_);for(M=0;M<_.length;++M){var N=_[M];N.angle=Math.atan2(N.x-C.x,N.y-C.y)}_.sort(function(qt,ln){return ln.angle-qt.angle});var L=_[_.length-1];for(M=0;M<_.length;++M){var I=_[M];v+=(L.x+I.x)*(I.y-L.y);for(var W={x:(I.x+L.x)/2,y:(I.y+L.y)/2},j=null,S=0;S<I.parentIndex.length;++S)if(L.parentIndex.indexOf(I.parentIndex[S])>-1){var G=f[I.parentIndex[S]],et=Math.atan2(I.x-G.x,I.y-G.y),O=Math.atan2(L.x-G.x,L.y-G.y),pt=O-et;pt<0&&(pt+=2*Math.PI);var Zt=O-pt/2,ht=kt(W,{x:G.x+G.radius*Math.sin(Zt),y:G.y+G.radius*Math.cos(Zt)});ht>2*G.radius&&(ht=2*G.radius),(null===j||j.width>ht)&&(j={circle:G,width:ht,p1:I,p2:L})}null!==j&&(k.push(j),y+=Kt(j.circle.radius,j.width),L=I)}}else{var st=f[0];for(M=1;M<f.length;++M)f[M].radius<st.radius&&(st=f[M]);var zt=!1;for(M=0;M<f.length;++M)if(kt(f[M],st)>Math.abs(st.radius-f[M].radius)){zt=!0;break}zt?y=v=0:(y=st.radius*st.radius*Math.PI,k.push({circle:st,p1:{x:st.x,y:st.y+st.radius},p2:{x:st.x-$,y:st.y+st.radius},width:2*st.radius}))}return v/=2,p&&(p.area=y+v,p.arcArea=y,p.polygonArea=v,p.arcs=k,p.innerPoints=_,p.intersectionPoints=g),y+v}function Kt(f,p){return f*f*Math.acos(1-p/f)-(f-p)*Math.sqrt(p*(2*f-p))}function kt(f,p){return Math.sqrt((f.x-p.x)*(f.x-p.x)+(f.y-p.y)*(f.y-p.y))}function fn(f,p,g){if(g>=f+p)return 0;if(g<=Math.abs(f-p))return Math.PI*Math.min(f,p)*Math.min(f,p);var y=p-(g*g-f*f+p*p)/(2*g);return Kt(f,f-(g*g-p*p+f*f)/(2*g))+Kt(p,y)}function Pt(f,p){var g=kt(f,p),_=f.radius,y=p.radius;if(g>=_+y||g<=Math.abs(_-y))return[];var v=(_*_-y*y+g*g)/(2*g),k=Math.sqrt(_*_-v*v),M=f.x+v*(p.x-f.x)/g,C=f.y+v*(p.y-f.y)/g,N=k/g*-(p.y-f.y),L=k/g*-(p.x-f.x);return[{x:M+N,y:C-L},{x:M-N,y:C+L}]}function Ct(f){for(var p={x:0,y:0},g=0;g<f.length;++g)p.x+=f[g].x,p.y+=f[g].y;return p.x/=f.length,p.y/=f.length,p}function Ut(f){for(var p=new Array(f),g=0;g<f;++g)p[g]=0;return p}function Gt(f,p){return Ut(f).map(function(){return Ut(p)})}function Qt(f,p){for(var g=0,_=0;_<f.length;++_)g+=f[_]*p[_];return g}function pn(f){return Math.sqrt(Qt(f,f))}function Wt(f,p,g){for(var _=0;_<p.length;++_)f[_]=p[_]*g}function Lt(f,p,g,_,y){for(var v=0;v<f.length;++v)f[v]=p*g[v]+_*y[v]}function _n(f,p,g){var W,_=(g=g||{}).maxIterations||200*p.length,y=g.nonZeroDelta||1.05,v=g.zeroDelta||.001,k=g.minErrorDelta||1e-6,M=g.minErrorDelta||1e-5,C=void 0!==g.rho?g.rho:1,N=void 0!==g.chi?g.chi:2,L=void 0!==g.psi?g.psi:-.5,I=void 0!==g.sigma?g.sigma:.5,j=p.length,S=new Array(j+1);S[0]=p,S[0].fx=f(p),S[0].id=0;for(var G=0;G<j;++G){var et=p.slice();et[G]=et[G]?et[G]*y:v,S[G+1]=et,S[G+1].fx=f(et),S[G+1].id=G+1}function O(on){for(var tn=0;tn<on.length;tn++)S[j][tn]=on[tn];S[j].fx=on.fx}for(var pt=function(on,tn){return on.fx-tn.fx},Zt=p.slice(),ht=p.slice(),st=p.slice(),zt=p.slice(),qt=0;qt<_;++qt){if(S.sort(pt),g.history){var ln=S.map(function(on){var tn=on.slice();return tn.fx=on.fx,tn.id=on.id,tn});ln.sort(function(on,tn){return on.id-tn.id}),g.history.push({x:S[0].slice(),fx:S[0].fx,simplex:ln})}for(W=0,G=0;G<j;++G)W=Math.max(W,Math.abs(S[0][G]-S[1][G]));if(Math.abs(S[0].fx-S[j].fx)<k&&W<M)break;for(G=0;G<j;++G){Zt[G]=0;for(var wn=0;wn<j;++wn)Zt[G]+=S[wn][G];Zt[G]/=j}var bn=S[j];if(Lt(ht,1+C,Zt,-C,bn),ht.fx=f(ht),ht.fx<S[0].fx)Lt(zt,1+N,Zt,-N,bn),zt.fx=f(zt),O(zt.fx<ht.fx?zt:ht);else if(ht.fx>=S[j-1].fx){var Tn=!1;if(ht.fx>bn.fx?(Lt(st,1+L,Zt,-L,bn),st.fx=f(st),st.fx<bn.fx?O(st):Tn=!0):(Lt(st,1-L*C,Zt,L*C,bn),st.fx=f(st),st.fx<ht.fx?O(st):Tn=!0),Tn){if(I>=1)break;for(G=1;G<S.length;++G)Lt(S[G],1-I,S[0],I,S[G]),S[G].fx=f(S[G])}}else O(ht)}return S.sort(pt),{fx:S[0].fx,x:S[0]}}function vn(f,p,g,_,y,v,k){var M=g.fx,C=Qt(g.fxprime,p),N=M,L=M,I=C,W=0;function j(G,et,O){for(var pt=0;pt<16;++pt)if(Lt(_.x,1,g.x,y=(G+et)/2,p),N=_.fx=f(_.x,_.fxprime),I=Qt(_.fxprime,p),N>M+v*y*C||N>=O)et=y;else{if(Math.abs(I)<=-k*C)return y;I*(et-G)>=0&&(et=G),G=y,O=N}return 0}y=y||1,v=v||1e-6,k=k||.1;for(var S=0;S<10;++S){if(Lt(_.x,1,g.x,y,p),N=_.fx=f(_.x,_.fxprime),I=Qt(_.fxprime,p),N>M+v*y*C||S&&N>=L)return j(W,y,L);if(Math.abs(I)<=-k*C)return y;if(I>=0)return j(y,W,N);L=N,W=y,y*=2}return y}function mt(f,p,g){var k,M,N,_={x:p.slice(),fx:0,fxprime:p.slice()},y={x:p.slice(),fx:0,fxprime:p.slice()},v=p.slice(),C=1;N=(g=g||{}).maxIterations||20*p.length,_.fx=f(_.x,_.fxprime),Wt(k=_.fxprime.slice(),_.fxprime,-1);for(var L=0;L<N;++L){if(C=vn(f,k,_,y,C),g.history&&g.history.push({x:_.x.slice(),fx:_.fx,fxprime:_.fxprime.slice(),alpha:C}),C){Lt(v,1,y.fxprime,-1,_.fxprime);var I=Qt(_.fxprime,_.fxprime);Lt(k,Math.max(0,Qt(v,y.fxprime)/I),k,-1,y.fxprime),M=_,_=y,y=M}else Wt(k,_.fxprime,-1);if(pn(_.fxprime)<=1e-5)break}return g.history&&g.history.push({x:_.x.slice(),fx:_.fx,fxprime:_.fxprime.slice(),alpha:C}),_}function Nt(f,p){(p=p||{}).maxIterations=p.maxIterations||500;var M,_=p.lossFunction||Un,y=(p.initialLayout||ie)(f=function En(f){f=f.slice();var _,y,v,k,p=[],g={};for(_=0;_<f.length;++_){var M=f[_];1==M.sets.length?p.push(M.sets[0]):2==M.sets.length&&(g[[v=M.sets[0],k=M.sets[1]]]=!0,g[[k,v]]=!0)}for(p.sort(function(C,N){return C>N}),_=0;_<p.length;++_)for(v=p[_],y=_+1;y<p.length;++y)[v,k=p[y]]in g||f.push({sets:[v,k],size:0});return f}(f),p),v=[],k=[];for(M in y)y.hasOwnProperty(M)&&(v.push(y[M].x),v.push(y[M].y),k.push(M));for(var N=_n(function(I){for(var W={},j=0;j<k.length;++j){var S=k[j];W[S]={x:I[2*j],y:I[2*j+1],radius:y[S].radius}}return _(W,f)},v,p).x,L=0;L<k.length;++L)y[M=k[L]].x=N[2*L],y[M].y=N[2*L+1];return y}function en(f,p,g){return Math.min(f,p)*Math.min(f,p)*Math.PI<=g+1e-10?Math.abs(f-p):function St(f,p,g,_){var y=(_=_||{}).maxIterations||100,v=_.tolerance||1e-10,k=f(p),M=f(g),C=g-p;if(k*M>0)throw"Initial bisect points must have opposite signs";if(0===k)return p;if(0===M)return g;for(var N=0;N<y;++N){var L=p+(C/=2),I=f(L);if(I*k>=0&&(p=L),Math.abs(C)<v||0===I)return L}return p+C}(function(_){return fn(f,p,_)-g},0,f+p)}function ie(f,p){var g=de(f,p),_=p.lossFunction||Un;if(f.length>=8){var y=function pe(f,p){var v,g=(p=p||{}).restarts||10,_=[],y={};for(v=0;v<f.length;++v){var k=f[v];1==k.sets.length&&(y[k.sets[0]]=_.length,_.push(k))}var M=function Kn(f,p,g){var _=Gt(p.length,p.length),y=Gt(p.length,p.length);return f.filter(function(v){return 2==v.sets.length}).map(function(v){var k=g[v.sets[0]],M=g[v.sets[1]],L=en(Math.sqrt(p[k].size/Math.PI),Math.sqrt(p[M].size/Math.PI),v.size);_[k][M]=_[M][k]=L;var I=0;v.size+1e-10>=Math.min(p[k].size,p[M].size)?I=1:v.size<=1e-10&&(I=-1),y[k][M]=y[M][k]=I}),{distances:_,constraints:y}}(f,_,y),C=M.distances,N=M.constraints,L=pn(C.map(pn))/C.length;C=C.map(function(pt){return pt.map(function(Zt){return Zt/L})});var W,j,I=function(pt,Zt){return function ee(f,p,g,_){var v,y=0;for(v=0;v<p.length;++v)p[v]=0;for(v=0;v<g.length;++v)for(var k=f[2*v],M=f[2*v+1],C=v+1;C<g.length;++C){var N=f[2*C],L=f[2*C+1],I=g[v][C],W=_[v][C],j=(N-k)*(N-k)+(L-M)*(L-M),S=Math.sqrt(j),G=j-I*I;W>0&&S<=I||W<0&&S>=I||(y+=2*G*G,p[2*v]+=4*G*(k-N),p[2*v+1]+=4*G*(M-L),p[2*C]+=4*G*(N-k),p[2*C+1]+=4*G*(L-M))}return y}(pt,Zt,C,N)};for(v=0;v<g;++v)j=mt(I,Ut(2*C.length).map(Math.random),p),(!W||j.fx<W.fx)&&(W=j);var G=W.x,et={};for(v=0;v<_.length;++v){var O=_[v];et[O.sets[0]]={x:G[2*v]*L,y:G[2*v+1]*L,radius:Math.sqrt(O.size/Math.PI)}}if(p.history)for(v=0;v<p.history.length;++v)Wt(p.history[v].x,L);return et}(f,p);_(y,f)+1e-8<_(g,f)&&(g=y)}return g}function de(f,p){for(var v,g=p&&p.lossFunction?p.lossFunction:Un,_={},y={},k=0;k<f.length;++k){var M=f[k];1==M.sets.length&&(_[v=M.sets[0]]={x:1e10,y:1e10,rowid:_.length,size:M.size,radius:Math.sqrt(M.size/Math.PI)},y[v]=[])}for(f=f.filter(function(An){return 2==An.sets.length}),k=0;k<f.length;++k){var C=f[k],N=C.hasOwnProperty("weight")?C.weight:1,L=C.sets[0],I=C.sets[1];C.size+1e-10>=Math.min(_[L].size,_[I].size)&&(N=0),y[L].push({set:I,size:C.size,weight:N}),y[I].push({set:L,size:C.size,weight:N})}var W=[];for(v in y)if(y.hasOwnProperty(v)){var j=0;for(k=0;k<y[v].length;++k)j+=y[v][k].size*y[v][k].weight;W.push({set:v,size:j})}function S(An,m){return m.size-An.size}W.sort(S);var G={};function et(An){return An.set in G}function O(An,m){_[m].x=An.x,_[m].y=An.y,G[m]=!0}for(O({x:0,y:0},W[0].set),k=1;k<W.length;++k){var pt=W[k].set,Zt=y[pt].filter(et);if(v=_[pt],Zt.sort(S),0===Zt.length)throw"ERROR: missing pairwise overlap information";for(var ht=[],st=0;st<Zt.length;++st){var zt=_[Zt[st].set],qt=en(v.radius,zt.radius,Zt[st].size);ht.push({x:zt.x+qt,y:zt.y}),ht.push({x:zt.x-qt,y:zt.y}),ht.push({y:zt.y+qt,x:zt.x}),ht.push({y:zt.y-qt,x:zt.x});for(var ln=st+1;ln<Zt.length;++ln)for(var wn=_[Zt[ln].set],bn=en(v.radius,wn.radius,Zt[ln].size),Tn=Pt({x:zt.x,y:zt.y,radius:qt},{x:wn.x,y:wn.y,radius:bn}),on=0;on<Tn.length;++on)ht.push(Tn[on])}var tn=1e50,un=ht[0];for(st=0;st<ht.length;++st){_[pt].x=ht[st].x,_[pt].y=ht[st].y;var Fn=g(_,f);Fn<tn&&(tn=Fn,un=ht[st])}O(un,pt)}return _}function Un(f,p){var g=0;for(var y=0;y<p.length;++y){var k,v=p[y];if(1!=v.sets.length){if(2==v.sets.length){var M=f[v.sets[0]],C=f[v.sets[1]];k=fn(M.radius,C.radius,kt(M,C))}else k=$t(v.sets.map(function(I){return f[I]}));g+=(v.hasOwnProperty("weight")?v.weight:1)*(k-v.size)*(k-v.size)}}return g}function re(f,p,g){var _;if(f.sort(null===g?function(G,et){return et.radius-G.radius}:g),f.length>0){var y=f[0].x,v=f[0].y;for(_=0;_<f.length;++_)f[_].x-=y,f[_].y-=v}if(2==f.length&&kt(f[0],f[1])<Math.abs(f[1].radius-f[0].radius)&&(f[1].x=f[0].x+f[0].radius-f[1].radius-1e-10,f[1].y=f[0].y),f.length>1){var L,I,M=Math.atan2(f[1].x,f[1].y)-p,C=Math.cos(M),N=Math.sin(M);for(_=0;_<f.length;++_)f[_].x=C*(L=f[_].x)-N*(I=f[_].y),f[_].y=N*L+C*I}if(f.length>2){for(var W=Math.atan2(f[2].x,f[2].y)-p;W<0;)W+=2*Math.PI;for(;W>2*Math.PI;)W-=2*Math.PI;if(W>Math.PI){var j=f[1].y/(1e-10+f[1].x);for(_=0;_<f.length;++_){var S=(f[_].x+j*f[_].y)/(1+j*j);f[_].x=2*S-f[_].x,f[_].y=2*S*j-f[_].y}}}}function Vn(f){function p(N){return N.parent!==N&&(N.parent=p(N.parent)),N.parent}f.map(function(N){N.parent=N});for(var _=0;_<f.length;++_)for(var y=_+1;y<f.length;++y){var v=f[_].radius+f[y].radius;kt(f[_],f[y])+1e-10<v&&(L=f[_],I=void 0,W=void 0,I=p(f[y]),W=p(L),I.parent=W)}var L,I,W,M,k={};for(_=0;_<f.length;++_)(M=p(f[_]).parent.setid)in k||(k[M]=[]),k[M].push(f[_]);f.map(function(N){delete N.parent});var C=[];for(M in k)k.hasOwnProperty(M)&&C.push(k[M]);return C}function Gn(f){var p=function(g){return{max:Math.max.apply(null,f.map(function(v){return v[g]+v.radius})),min:Math.min.apply(null,f.map(function(v){return v[g]-v.radius}))}};return{xRange:p("x"),yRange:p("y")}}function oe(f,p,g){null===p&&(p=Math.PI/2);var y,v,_=[];for(v in f)if(f.hasOwnProperty(v)){var k=f[v];_.push({x:k.x,y:k.y,radius:k.radius,setid:v})}var M=Vn(_);for(y=0;y<M.length;++y){re(M[y],p,g);var C=Gn(M[y]);M[y].size=(C.xRange.max-C.xRange.min)*(C.yRange.max-C.yRange.min),M[y].bounds=C}M.sort(function(S,G){return G.size-S.size});var N=(_=M[0]).bounds,L=(N.xRange.max-N.xRange.min)/50;function I(S,G,et){if(S){var pt,Zt,ht,O=S.bounds;G?pt=N.xRange.max-O.xRange.min+L:(pt=N.xRange.max-O.xRange.max,(ht=(O.xRange.max-O.xRange.min)/2-(N.xRange.max-N.xRange.min)/2)<0&&(pt+=ht)),et?Zt=N.yRange.max-O.yRange.min+L:(Zt=N.yRange.max-O.yRange.max,(ht=(O.yRange.max-O.yRange.min)/2-(N.yRange.max-N.yRange.min)/2)<0&&(Zt+=ht));for(var st=0;st<S.length;++st)S[st].x+=pt,S[st].y+=Zt,_.push(S[st])}}for(var W=1;W<M.length;)I(M[W],!0,!1),I(M[W+1],!1,!0),I(M[W+2],!0,!0),W+=3,N=Gn(_);var j={};for(y=0;y<_.length;++y)j[_[y].setid]=_[y];return j}function Xn(f,p,g,_){var y=[],v=[];for(var k in f)f.hasOwnProperty(k)&&(v.push(k),y.push(f[k]));p-=2*_,g-=2*_;var M=Gn(y),C=M.xRange,N=M.yRange;if(C.max==C.min||N.max==N.min)return console.log("not scaling solution: zero size detected"),f;for(var W=Math.min(g/(N.max-N.min),p/(C.max-C.min)),j=(p-(C.max-C.min)*W)/2,S=(g-(N.max-N.min)*W)/2,G={},et=0;et<y.length;++et){var O=y[et];G[v[et]]={radius:W*O.radius,x:_+j+(O.x-C.min)*W,y:_+S+(O.y-N.min)*W}}return G}function Rn(f,p){return function(){for(var I,g=gt.select(this),_=g.datum(),y=f[_.sets[0]].radius||50,v=p(_)||"",k=v.split(/\s+/).reverse(),C=(v.length+k.length)/3,N=k.pop(),L=[N],W=0,S=g.text(null).append("tspan").text(N);N=k.pop();)L.push(N),I=L.join(" "),S.text(I),I.length>C&&S.node().getComputedTextLength()>y&&(L.pop(),S.text(L.join(" ")),L=[N],S=g.append("tspan").text(N),W++);var G=.35-1.1*W/2,et=g.attr("x"),O=g.attr("y");g.selectAll("tspan").attr("x",et).attr("y",O).attr("dy",function(pt,Zt){return G+1.1*Zt+"em"})}}function qn(f,p,g){var y,v,_=p[0].radius-kt(p[0],f);for(y=1;y<p.length;++y)(v=p[y].radius-kt(p[y],f))<=_&&(_=v);for(y=0;y<g.length;++y)(v=kt(g[y],f)-g[y].radius)<=_&&(_=v);return _}function gn(f,p){var _,g=[];for(_=0;_<f.length;++_){var y=f[_];g.push({x:y.x,y:y.y}),g.push({x:y.x+y.radius/2,y:y.y}),g.push({x:y.x-y.radius/2,y:y.y}),g.push({x:y.x,y:y.y+y.radius/2}),g.push({x:y.x,y:y.y-y.radius/2})}var v=g[0],k=qn(g[0],f,p);for(_=1;_<g.length;++_){var M=qn(g[_],f,p);M>=k&&(v=g[_],k=M)}var C=_n(function(W){return-1*qn({x:W[0],y:W[1]},f,p)},[v.x,v.y],{maxIterations:500,minErrorDelta:1e-10}).x,N={x:C[0],y:C[1]},L=!0;for(_=0;_<f.length;++_)if(kt(N,f[_])>f[_].radius){L=!1;break}for(_=0;_<p.length;++_)if(kt(N,p[_])<p[_].radius){L=!1;break}if(!L)if(1==f.length)N={x:f[0].x,y:f[0].y};else{var I={};$t(f,I),N=0===I.arcs.length?{x:0,y:-1e3,disjoint:!0}:1==I.arcs.length?{x:I.arcs[0].circle.x,y:I.arcs[0].circle.y}:p.length?gn(f,[]):Ct(I.arcs.map(function(W){return W.p1}))}return N}function mn(f){var p={},g=[];for(var _ in f)g.push(_),p[_]=[];for(var y=0;y<g.length;y++)for(var v=f[g[y]],k=y+1;k<g.length;++k){var M=f[g[k]],C=kt(v,M);C+M.radius<=v.radius+1e-10?p[g[k]].push(g[y]):C+v.radius<=M.radius+1e-10&&p[g[y]].push(g[k])}return p}function ae(f,p){for(var g={},_=mn(f),y=0;y<p.length;++y){for(var v=p[y].sets,k={},M={},C=0;C<v.length;++C){k[v[C]]=!0;for(var N=_[v[C]],L=0;L<N.length;++L)M[N[L]]=!0}var I=[],W=[];for(var j in f)j in k?I.push(f[j]):j in M||W.push(f[j]);var S=gn(I,W);g[v]=S,S.disjoint&&p[y].size>0&&console.log("WARNING: area "+v+" not represented on screen")}return g}function ge(f,p,g){var _=[];return _.push("\nM",f,p),_.push("\nm",-g,0),_.push("\na",g,g,0,1,0,2*g,0),_.push("\na",g,g,0,1,0,2*-g,0),_.join(" ")}function Dn(f){var p=f.split(" ");return{x:parseFloat(p[1]),y:parseFloat(p[2]),radius:-parseFloat(p[4])}}function Wn(f){var p={};$t(f,p);var g=p.arcs;if(0===g.length)return"M 0 0";if(1==g.length){var _=g[0].circle;return ge(_.x,_.y,_.radius)}for(var y=["\nM",g[0].p2.x,g[0].p2.y],v=0;v<g.length;++v){var k=g[v],M=k.circle.radius;y.push("\nA",M,M,0,k.width>M?1:0,1,k.p1.x,k.p1.y)}return y.join(" ")}ot.intersectionArea=$t,ot.circleCircleIntersection=Pt,ot.circleOverlap=fn,ot.circleArea=Kt,ot.distance=kt,ot.venn=Nt,ot.greedyLayout=de,ot.scaleSolution=Xn,ot.normalizeSolution=oe,ot.bestInitialLayout=ie,ot.lossFunction=Un,ot.disjointCluster=Vn,ot.distanceFromIntersectArea=en,ot.VennDiagram=function $n(){var f=600,p=350,g=15,_=1e3,y=Math.PI/2,v=!0,k=!0,M=!0,C=null,N=null,L={},I=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],W=0,j=function(O){if(O in L)return L[O];var pt=L[O]=I[W];return(W+=1)>=I.length&&(W=0),pt},S=Nt,G=Un;function et(O){var pt=O.datum(),Zt={};pt.forEach(function(E){0==E.size&&1==E.sets.length&&(Zt[E.sets[0]]=1)}),pt=pt.filter(function(E){return!E.sets.some(function(tt){return tt in Zt})});var ht={},st={};if(pt.length>0){var zt=S(pt,{lossFunction:G});v&&(zt=oe(zt,y,N)),ht=Xn(zt,f,p,g),st=ae(ht,pt)}var qt={};function ln(E){return E.sets in qt?qt[E.sets]:1==E.sets.length?""+E.sets[0]:void 0}pt.forEach(function(E){E.label&&(qt[E.sets]=E.label)}),O.selectAll("svg").data([ht]).enter().append("svg");var wn=O.select("svg").attr("width",f).attr("height",p),bn={},Tn=!1;wn.selectAll(".venn-area path").each(function(E){var tt=gt.select(this).attr("d");1==E.sets.length&&tt&&(Tn=!0,bn[E.sets[0]]=Dn(tt))});var on=function(E){return function(tt){return Wn(E.sets.map(function(V){var yt=bn[V],vt=ht[V];return yt||(yt={x:f/2,y:p/2,radius:1}),vt||(vt={x:f/2,y:p/2,radius:1}),{x:yt.x*(1-tt)+vt.x*tt,y:yt.y*(1-tt)+vt.y*tt,radius:yt.radius*(1-tt)+vt.radius*tt}}))}},tn=wn.selectAll(".venn-area").data(pt,function(E){return E.sets}),un=tn.enter().append("g").attr("class",function(E){return"venn-area venn-"+(1==E.sets.length?"circle":"intersection")}).attr("data-venn-sets",function(E){return E.sets.join("_")}),Fn=un.append("path"),An=un.append("text").attr("class","label").text(function(E){return ln(E)}).attr("text-anchor","middle").attr("dy",".35em").attr("x",f/2).attr("y",p/2);M&&(Fn.style("fill-opacity","0").filter(function(E){return 1==E.sets.length}).style("fill",function(E){return j(E.sets)}).style("fill-opacity",".25"),An.style("fill",function(E){return 1==E.sets.length?j(E.sets):"#444"}));var m=O;Tn?(m=O.transition("venn").duration(_)).selectAll("path").attrTween("d",on):m.selectAll("path").attr("d",function(E){return Wn(E.sets.map(function(tt){return ht[tt]}))});var J=m.selectAll("text").filter(function(E){return E.sets in st}).text(function(E){return ln(E)}).attr("x",function(E){return Math.floor(st[E.sets].x)}).attr("y",function(E){return Math.floor(st[E.sets].y)});k&&(Tn?"on"in J?J.on("end",Rn(ht,ln)):J.each("end",Rn(ht,ln)):J.each(Rn(ht,ln)));var F=tn.exit().transition("venn").duration(_).remove();F.selectAll("path").attrTween("d",on);var at=F.selectAll("text").attr("x",f/2).attr("y",p/2);return null!==C&&(An.style("font-size","0px"),J.style("font-size",C),at.style("font-size","0px")),{circles:ht,textCentres:st,nodes:tn,enter:un,update:m,exit:F}}return et.wrap=function(O){return arguments.length?(k=O,et):k},et.width=function(O){return arguments.length?(f=O,et):f},et.height=function(O){return arguments.length?(p=O,et):p},et.padding=function(O){return arguments.length?(g=O,et):g},et.colours=function(O){return arguments.length?(j=O,et):j},et.fontSize=function(O){return arguments.length?(C=O,et):C},et.duration=function(O){return arguments.length?(_=O,et):_},et.layoutFunction=function(O){return arguments.length?(S=O,et):S},et.normalize=function(O){return arguments.length?(v=O,et):v},et.styled=function(O){return arguments.length?(M=O,et):M},et.orientation=function(O){return arguments.length?(y=O,et):y},et.orientationOrder=function(O){return arguments.length?(N=O,et):N},et.lossFunction=function(O){return arguments.length?(G=O,et):G},et},ot.wrapText=Rn,ot.computeTextCentres=ae,ot.computeTextCentre=gn,ot.sortAreas=function se(f,p){for(var g=mn(f.selectAll("svg").datum()),_={},y=0;y<p.sets.length;++y){var v=p.sets[y];for(var k in g)for(var M=g[k],C=0;C<M.length;++C)if(M[C]==v){_[k]=!0;break}}function N(L){for(var I=0;I<L.length;++I)if(!(L[I]in _))return!1;return!0}f.selectAll("g").sort(function(L,I){return L.sets.length!=I.sets.length?L.sets.length-I.sets.length:L==p?N(I.sets)?-1:1:I==p?N(L.sets)?1:-1:I.size-L.size})},ot.circlePath=ge,ot.circleFromPath=Dn,ot.intersectionAreaPath=Wn,Object.defineProperty(ot,"__esModule",{value:!0})}(Ot,B(2417),B(4332))},3281:(zn,Ot,B)=>{"use strict";B.d(Ot,{Z:()=>$t});var ot=B(4245),gt=B(7178);function Rt(Bt){return function(){var Et=this.ownerDocument,Kt=this.namespaceURI;return Kt===gt.P&&Et.documentElement.namespaceURI===gt.P?Et.createElement(Bt):Et.createElementNS(Kt,Bt)}}function $(Bt){return function(){return this.ownerDocument.createElementNS(Bt.space,Bt.local)}}function $t(Bt){var Et=(0,ot.Z)(Bt);return(Et.local?$:Rt)(Et)}},2417:(zn,Ot,B)=>{"use strict";B.r(Ot),B.d(Ot,{clientPoint:()=>Pt,create:()=>$,creator:()=>ot.Z,customEvent:()=>kt._H,event:()=>kt.B,local:()=>Bt,matcher:()=>Kt.Z,mouse:()=>Ct,namespace:()=>St.Z,namespaces:()=>Ut.Z,select:()=>Rt,selectAll:()=>Gt,selection:()=>gt.ZP,selector:()=>Qt.Z,selectorAll:()=>pn.Z,style:()=>Wt.S,touch:()=>Lt,touches:()=>_n,window:()=>vn.Z});var ot=B(3281),gt=B(6771);function Rt(mt){return"string"==typeof mt?new gt.Y1([[document.querySelector(mt)]],[document.documentElement]):new gt.Y1([[mt]],gt.Jz)}function $(mt){return Rt((0,ot.Z)(mt).call(document.documentElement))}var $t=0;function Bt(){return new Et}function Et(){this._="@"+(++$t).toString(36)}Et.prototype=Bt.prototype={constructor:Et,get:function(mt){for(var Nt=this._;!(Nt in mt);)if(!(mt=mt.parentNode))return;return mt[Nt]},set:function(mt,Nt){return mt[this._]=Nt},remove:function(mt){return this._ in mt&&delete mt[this._]},toString:function(){return this._}};var Kt=B(6762),kt=B(4015);function fn(){for(var Nt,mt=kt.B;Nt=mt.sourceEvent;)mt=Nt;return mt}function Pt(mt,Nt){var dn=mt.ownerSVGElement||mt;if(dn.createSVGPoint){var en=dn.createSVGPoint();return en.x=Nt.clientX,en.y=Nt.clientY,[(en=en.matrixTransform(mt.getScreenCTM().inverse())).x,en.y]}var En=mt.getBoundingClientRect();return[Nt.clientX-En.left-mt.clientLeft,Nt.clientY-En.top-mt.clientTop]}function Ct(mt){var Nt=fn();return Nt.changedTouches&&(Nt=Nt.changedTouches[0]),Pt(mt,Nt)}var St=B(4245),Ut=B(7178);function Gt(mt){return"string"==typeof mt?new gt.Y1([document.querySelectorAll(mt)],[document.documentElement]):new gt.Y1([mt??[]],gt.Jz)}var Qt=B(9425),pn=B(794),Wt=B(6);function Lt(mt,Nt,dn){arguments.length<3&&(dn=Nt,Nt=fn().changedTouches);for(var Kn,en=0,En=Nt?Nt.length:0;en<En;++en)if((Kn=Nt[en]).identifier===dn)return Pt(mt,Kn);return null}function _n(mt,Nt){null==Nt&&(Nt=fn().touches);for(var dn=0,en=Nt?Nt.length:0,En=new Array(en);dn<en;++dn)En[dn]=Pt(mt,Nt[dn]);return En}var vn=B(5176)},6762:(zn,Ot,B)=>{"use strict";function ot(gt){return function(){return this.matches(gt)}}B.d(Ot,{Z:()=>ot})},4245:(zn,Ot,B)=>{"use strict";B.d(Ot,{Z:()=>gt});var ot=B(7178);function gt(Rt){var $=Rt+="",$t=$.indexOf(":");return $t>=0&&"xmlns"!==($=Rt.slice(0,$t))&&(Rt=Rt.slice($t+1)),ot.Z.hasOwnProperty($)?{space:ot.Z[$],local:Rt}:Rt}},7178:(zn,Ot,B)=>{"use strict";B.d(Ot,{P:()=>ot,Z:()=>gt});var ot="http://www.w3.org/1999/xhtml";const gt={svg:"http://www.w3.org/2000/svg",xhtml:ot,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}},6771:(zn,Ot,B)=>{"use strict";B.d(Ot,{Y1:()=>un,ZP:()=>An,Jz:()=>tn});var ot=B(9425),Rt=B(794),$t=B(6762);function Et(m){return new Array(m.length)}function kt(m,J){this.ownerDocument=m.ownerDocument,this.namespaceURI=m.namespaceURI,this._next=null,this._parent=m,this.__data__=J}function Ct(m,J,F,at,E,tt){for(var V,ct=0,yt=J.length,vt=tt.length;ct<vt;++ct)(V=J[ct])?(V.__data__=tt[ct],at[ct]=V):F[ct]=new kt(m,tt[ct]);for(;ct<yt;++ct)(V=J[ct])&&(E[ct]=V)}function St(m,J,F,at,E,tt,ct){var V,yt,cn,vt={},Vt=J.length,Ln=tt.length,Mn=new Array(Vt);for(V=0;V<Vt;++V)(yt=J[V])&&(Mn[V]=cn="$"+ct.call(yt,yt.__data__,V,J),cn in vt?E[V]=yt:vt[cn]=yt);for(V=0;V<Ln;++V)(yt=vt[cn="$"+ct.call(m,tt[V],V,tt)])?(at[V]=yt,yt.__data__=tt[V],vt[cn]=null):F[V]=new kt(m,tt[V]);for(V=0;V<Vt;++V)(yt=J[V])&&vt[Mn[V]]===yt&&(E[V]=yt)}function _n(m,J){return m<J?-1:m>J?1:m>=J?0:NaN}kt.prototype={constructor:kt,appendChild:function(m){return this._parent.insertBefore(m,this._next)},insertBefore:function(m,J){return this._parent.insertBefore(m,J)},querySelector:function(m){return this._parent.querySelector(m)},querySelectorAll:function(m){return this._parent.querySelectorAll(m)}};var Kn=B(4245);function ee(m){return function(){this.removeAttribute(m)}}function ie(m){return function(){this.removeAttributeNS(m.space,m.local)}}function pe(m,J){return function(){this.setAttribute(m,J)}}function de(m,J){return function(){this.setAttributeNS(m.space,m.local,J)}}function Un(m,J){return function(){var F=J.apply(this,arguments);null==F?this.removeAttribute(m):this.setAttribute(m,F)}}function re(m,J){return function(){var F=J.apply(this,arguments);null==F?this.removeAttributeNS(m.space,m.local):this.setAttributeNS(m.space,m.local,F)}}var Gn=B(6);function oe(m){return function(){delete this[m]}}function Xn(m,J){return function(){this[m]=J}}function $n(m,J){return function(){var F=J.apply(this,arguments);null==F?delete this[m]:this[m]=F}}function qn(m){return m.trim().split(/^|\s+/)}function gn(m){return m.classList||new mn(m)}function mn(m){this._node=m,this._names=qn(m.getAttribute("class")||"")}function ae(m,J){for(var F=gn(m),at=-1,E=J.length;++at<E;)F.add(J[at])}function se(m,J){for(var F=gn(m),at=-1,E=J.length;++at<E;)F.remove(J[at])}function ge(m){return function(){ae(this,m)}}function Dn(m){return function(){se(this,m)}}function Wn(m,J){return function(){(J.apply(this,arguments)?ae:se)(this,m)}}function p(){this.textContent=""}function g(m){return function(){this.textContent=m}}function _(m){return function(){var J=m.apply(this,arguments);this.textContent=J??""}}function v(){this.innerHTML=""}function k(m){return function(){this.innerHTML=m}}function M(m){return function(){var J=m.apply(this,arguments);this.innerHTML=J??""}}function N(){this.nextSibling&&this.parentNode.appendChild(this)}function I(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}mn.prototype={add:function(m){this._names.indexOf(m)<0&&(this._names.push(m),this._node.setAttribute("class",this._names.join(" ")))},remove:function(m){var J=this._names.indexOf(m);J>=0&&(this._names.splice(J,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(m){return this._names.indexOf(m)>=0}};var j=B(3281);function G(){return null}function O(){var m=this.parentNode;m&&m.removeChild(this)}function Zt(){var m=this.cloneNode(!1),J=this.parentNode;return J?J.insertBefore(m,this.nextSibling):m}function ht(){var m=this.cloneNode(!0),J=this.parentNode;return J?J.insertBefore(m,this.nextSibling):m}var qt=B(4015),ln=B(5176);function wn(m,J,F){var at=(0,ln.Z)(m),E=at.CustomEvent;"function"==typeof E?E=new E(J,F):(E=at.document.createEvent("Event"),F?(E.initEvent(J,F.bubbles,F.cancelable),E.detail=F.detail):E.initEvent(J,!1,!1)),m.dispatchEvent(E)}function bn(m,J){return function(){return wn(this,m,J)}}function Tn(m,J){return function(){return wn(this,m,J.apply(this,arguments))}}var tn=[null];function un(m,J){this._groups=m,this._parents=J}function Fn(){return new un([[document.documentElement]],tn)}un.prototype=Fn.prototype={constructor:un,select:function gt(m){"function"!=typeof m&&(m=(0,ot.Z)(m));for(var J=this._groups,F=J.length,at=new Array(F),E=0;E<F;++E)for(var yt,vt,tt=J[E],ct=tt.length,V=at[E]=new Array(ct),Vt=0;Vt<ct;++Vt)(yt=tt[Vt])&&(vt=m.call(yt,yt.__data__,Vt,tt))&&("__data__"in yt&&(vt.__data__=yt.__data__),V[Vt]=vt);return new un(at,this._parents)},selectAll:function $(m){"function"!=typeof m&&(m=(0,Rt.Z)(m));for(var J=this._groups,F=J.length,at=[],E=[],tt=0;tt<F;++tt)for(var yt,ct=J[tt],V=ct.length,vt=0;vt<V;++vt)(yt=ct[vt])&&(at.push(m.call(yt,yt.__data__,vt,ct)),E.push(yt));return new un(at,E)},filter:function Bt(m){"function"!=typeof m&&(m=(0,$t.Z)(m));for(var J=this._groups,F=J.length,at=new Array(F),E=0;E<F;++E)for(var yt,tt=J[E],ct=tt.length,V=at[E]=[],vt=0;vt<ct;++vt)(yt=tt[vt])&&m.call(yt,yt.__data__,vt,tt)&&V.push(yt);return new un(at,this._parents)},data:function Ut(m,J){if(!m)return cn=new Array(this.size()),vt=-1,this.each(function(fi){cn[++vt]=fi}),cn;var F=J?St:Ct,at=this._parents,E=this._groups;"function"!=typeof m&&(m=function fn(m){return function(){return m}}(m));for(var tt=E.length,ct=new Array(tt),V=new Array(tt),yt=new Array(tt),vt=0;vt<tt;++vt){var Vt=at[vt],Ln=E[vt],Mn=Ln.length,cn=m.call(Vt,Vt&&Vt.__data__,vt,at),kn=cn.length,me=V[vt]=new Array(kn),be=ct[vt]=new Array(kn);F(Vt,Ln,me,be,yt[vt]=new Array(Mn),cn,J);for(var Ae,He,le=0,ue=0;le<kn;++le)if(Ae=me[le]){for(le>=ue&&(ue=le+1);!(He=be[ue])&&++ue<kn;);Ae._next=He||null}}return(ct=new un(ct,at))._enter=V,ct._exit=yt,ct},enter:function Kt(){return new un(this._enter||this._groups.map(Et),this._parents)},exit:function Gt(){return new un(this._exit||this._groups.map(Et),this._parents)},join:function Qt(m,J,F){var at=this.enter(),E=this,tt=this.exit();return at="function"==typeof m?m(at):at.append(m+""),null!=J&&(E=J(E)),null==F?tt.remove():F(tt),at&&E?at.merge(E).order():E},merge:function pn(m){for(var J=this._groups,F=m._groups,at=J.length,tt=Math.min(at,F.length),ct=new Array(at),V=0;V<tt;++V)for(var Mn,yt=J[V],vt=F[V],Vt=yt.length,Ln=ct[V]=new Array(Vt),cn=0;cn<Vt;++cn)(Mn=yt[cn]||vt[cn])&&(Ln[cn]=Mn);for(;V<at;++V)ct[V]=J[V];return new un(ct,this._parents)},order:function Wt(){for(var m=this._groups,J=-1,F=m.length;++J<F;)for(var ct,at=m[J],E=at.length-1,tt=at[E];--E>=0;)(ct=at[E])&&(tt&&4^ct.compareDocumentPosition(tt)&&tt.parentNode.insertBefore(ct,tt),tt=ct);return this},sort:function Lt(m){function J(Ln,Mn){return Ln&&Mn?m(Ln.__data__,Mn.__data__):!Ln-!Mn}m||(m=_n);for(var F=this._groups,at=F.length,E=new Array(at),tt=0;tt<at;++tt){for(var vt,ct=F[tt],V=ct.length,yt=E[tt]=new Array(V),Vt=0;Vt<V;++Vt)(vt=ct[Vt])&&(yt[Vt]=vt);yt.sort(J)}return new un(E,this._parents).order()},call:function vn(){var m=arguments[0];return arguments[0]=this,m.apply(null,arguments),this},nodes:function mt(){var m=new Array(this.size()),J=-1;return this.each(function(){m[++J]=this}),m},node:function Nt(){for(var m=this._groups,J=0,F=m.length;J<F;++J)for(var at=m[J],E=0,tt=at.length;E<tt;++E){var ct=at[E];if(ct)return ct}return null},size:function dn(){var m=0;return this.each(function(){++m}),m},empty:function en(){return!this.node()},each:function En(m){for(var J=this._groups,F=0,at=J.length;F<at;++F)for(var V,E=J[F],tt=0,ct=E.length;tt<ct;++tt)(V=E[tt])&&m.call(V,V.__data__,tt,E);return this},attr:function Vn(m,J){var F=(0,Kn.Z)(m);if(arguments.length<2){var at=this.node();return F.local?at.getAttributeNS(F.space,F.local):at.getAttribute(F)}return this.each((null==J?F.local?ie:ee:"function"==typeof J?F.local?re:Un:F.local?de:pe)(F,J))},style:Gn.Z,property:function Rn(m,J){return arguments.length>1?this.each((null==J?oe:"function"==typeof J?$n:Xn)(m,J)):this.node()[m]},classed:function f(m,J){var F=qn(m+"");if(arguments.length<2){for(var at=gn(this.node()),E=-1,tt=F.length;++E<tt;)if(!at.contains(F[E]))return!1;return!0}return this.each(("function"==typeof J?Wn:J?ge:Dn)(F,J))},text:function y(m){return arguments.length?this.each(null==m?p:("function"==typeof m?_:g)(m)):this.node().textContent},html:function C(m){return arguments.length?this.each(null==m?v:("function"==typeof m?M:k)(m)):this.node().innerHTML},raise:function L(){return this.each(N)},lower:function W(){return this.each(I)},append:function S(m){var J="function"==typeof m?m:(0,j.Z)(m);return this.select(function(){return this.appendChild(J.apply(this,arguments))})},insert:function et(m,J){var F="function"==typeof m?m:(0,j.Z)(m),at=null==J?G:"function"==typeof J?J:(0,ot.Z)(J);return this.select(function(){return this.insertBefore(F.apply(this,arguments),at.apply(this,arguments)||null)})},remove:function pt(){return this.each(O)},clone:function st(m){return this.select(m?ht:Zt)},datum:function zt(m){return arguments.length?this.property("__data__",m):this.node().__data__},on:qt.ZP,dispatch:function on(m,J){return this.each(("function"==typeof J?Tn:bn)(m,J))}};const An=Fn},4015:(zn,Ot,B)=>{"use strict";B.d(Ot,{B:()=>gt,ZP:()=>kt,_H:()=>fn});var ot={},gt=null;function $(Pt,Ct,St){return Pt=$t(Pt,Ct,St),function(Ut){var Gt=Ut.relatedTarget;(!Gt||Gt!==this&&!(8&Gt.compareDocumentPosition(this)))&&Pt.call(this,Ut)}}function $t(Pt,Ct,St){return function(Ut){var Gt=gt;gt=Ut;try{Pt.call(this,this.__data__,Ct,St)}finally{gt=Gt}}}function Bt(Pt){return Pt.trim().split(/^|\s+/).map(function(Ct){var St="",Ut=Ct.indexOf(".");return Ut>=0&&(St=Ct.slice(Ut+1),Ct=Ct.slice(0,Ut)),{type:Ct,name:St}})}function Et(Pt){return function(){var Ct=this.__on;if(Ct){for(var Qt,St=0,Ut=-1,Gt=Ct.length;St<Gt;++St)Qt=Ct[St],Pt.type&&Qt.type!==Pt.type||Qt.name!==Pt.name?Ct[++Ut]=Qt:this.removeEventListener(Qt.type,Qt.listener,Qt.capture);++Ut?Ct.length=Ut:delete this.__on}}}function Kt(Pt,Ct,St){var Ut=ot.hasOwnProperty(Pt.type)?$:$t;return function(Gt,Qt,pn){var Lt,Wt=this.__on,_n=Ut(Ct,Qt,pn);if(Wt)for(var vn=0,mt=Wt.length;vn<mt;++vn)if((Lt=Wt[vn]).type===Pt.type&&Lt.name===Pt.name)return this.removeEventListener(Lt.type,Lt.listener,Lt.capture),this.addEventListener(Lt.type,Lt.listener=_n,Lt.capture=St),void(Lt.value=Ct);this.addEventListener(Pt.type,_n,St),Lt={type:Pt.type,name:Pt.name,value:Ct,listener:_n,capture:St},Wt?Wt.push(Lt):this.__on=[Lt]}}function kt(Pt,Ct,St){var Gt,pn,Ut=Bt(Pt+""),Qt=Ut.length;if(!(arguments.length<2)){for(Wt=Ct?Kt:Et,null==St&&(St=!1),Gt=0;Gt<Qt;++Gt)this.each(Wt(Ut[Gt],Ct,St));return this}var Wt=this.node().__on;if(Wt)for(var vn,Lt=0,_n=Wt.length;Lt<_n;++Lt)for(Gt=0,vn=Wt[Lt];Gt<Qt;++Gt)if((pn=Ut[Gt]).type===vn.type&&pn.name===vn.name)return vn.value}function fn(Pt,Ct,St,Ut){var Gt=gt;Pt.sourceEvent=gt,gt=Pt;try{return Ct.apply(St,Ut)}finally{gt=Gt}}typeof document<"u"&&("onmouseenter"in document.documentElement||(ot={mouseenter:"mouseover",mouseleave:"mouseout"}))},6:(zn,Ot,B)=>{"use strict";B.d(Ot,{S:()=>Bt,Z:()=>$t});var ot=B(5176);function gt(Et){return function(){this.style.removeProperty(Et)}}function Rt(Et,Kt,kt){return function(){this.style.setProperty(Et,Kt,kt)}}function $(Et,Kt,kt){return function(){var fn=Kt.apply(this,arguments);null==fn?this.style.removeProperty(Et):this.style.setProperty(Et,fn,kt)}}function $t(Et,Kt,kt){return arguments.length>1?this.each((null==Kt?gt:"function"==typeof Kt?$:Rt)(Et,Kt,kt??"")):Bt(this.node(),Et)}function Bt(Et,Kt){return Et.style.getPropertyValue(Kt)||(0,ot.Z)(Et).getComputedStyle(Et,null).getPropertyValue(Kt)}},9425:(zn,Ot,B)=>{"use strict";function ot(){}function gt(Rt){return null==Rt?ot:function(){return this.querySelector(Rt)}}B.d(Ot,{Z:()=>gt})},794:(zn,Ot,B)=>{"use strict";function ot(){return[]}function gt(Rt){return null==Rt?ot:function(){return this.querySelectorAll(Rt)}}B.d(Ot,{Z:()=>gt})},5176:(zn,Ot,B)=>{"use strict";function ot(gt){return gt.ownerDocument&&gt.ownerDocument.defaultView||gt.document&&gt||gt.defaultView}B.d(Ot,{Z:()=>ot})},4332:(zn,Ot,B)=>{"use strict";B.r(Ot),B.d(Ot,{active:()=>Ee,interrupt:()=>se,transition:()=>oi});var ot=B(6771),gt={value:function(){}};function Rt(){for(var h,o=0,s=arguments.length,l={};o<s;++o){if(!(h=arguments[o]+"")||h in l||/[\s.]/.test(h))throw new Error("illegal type: "+h);l[h]=[]}return new $(l)}function $(o){this._=o}function $t(o,s){return o.trim().split(/^|\s+/).map(function(l){var h="",w=l.indexOf(".");if(w>=0&&(h=l.slice(w+1),l=l.slice(0,w)),l&&!s.hasOwnProperty(l))throw new Error("unknown type: "+l);return{type:l,name:h}})}function Bt(o,s){for(var w,l=0,h=o.length;l<h;++l)if((w=o[l]).name===s)return w.value}function Et(o,s,l){for(var h=0,w=o.length;h<w;++h)if(o[h].name===s){o[h]=gt,o=o.slice(0,h).concat(o.slice(h+1));break}return null!=l&&o.push({name:s,value:l}),o}$.prototype=Rt.prototype={constructor:$,on:function(o,s){var w,l=this._,h=$t(o+"",l),T=-1,P=h.length;if(!(arguments.length<2)){if(null!=s&&"function"!=typeof s)throw new Error("invalid callback: "+s);for(;++T<P;)if(w=(o=h[T]).type)l[w]=Et(l[w],o.name,s);else if(null==s)for(w in l)l[w]=Et(l[w],o.name,null);return this}for(;++T<P;)if((w=(o=h[T]).type)&&(w=Bt(l[w],o.name)))return w},copy:function(){var o={},s=this._;for(var l in s)o[l]=s[l].slice();return new $(o)},call:function(o,s){if((w=arguments.length-2)>0)for(var w,T,l=new Array(w),h=0;h<w;++h)l[h]=arguments[h+2];if(!this._.hasOwnProperty(o))throw new Error("unknown type: "+o);for(h=0,w=(T=this._[o]).length;h<w;++h)T[h].value.apply(s,l)},apply:function(o,s,l){if(!this._.hasOwnProperty(o))throw new Error("unknown type: "+o);for(var h=this._[o],w=0,T=h.length;w<T;++w)h[w].value.apply(s,l)}};const Kt=Rt;var St,Ut,kt=0,fn=0,Pt=0,Gt=0,Qt=0,pn=0,Wt="object"==typeof performance&&performance.now?performance:Date,Lt="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(o){setTimeout(o,17)};function _n(){return Qt||(Lt(vn),Qt=Wt.now()+pn)}function vn(){Qt=0}function mt(){this._call=this._time=this._next=null}function Nt(o,s,l){var h=new mt;return h.restart(o,s,l),h}function en(){Qt=(Gt=Wt.now())+pn,kt=fn=0;try{!function dn(){_n(),++kt;for(var s,o=St;o;)(s=Qt-o._time)>=0&&o._call.call(null,s),o=o._next;--kt}()}finally{kt=0,function Kn(){for(var o,l,s=St,h=1/0;s;)s._call?(h>s._time&&(h=s._time),o=s,s=s._next):(l=s._next,s._next=null,s=o?o._next=l:St=l);Ut=o,ee(h)}(),Qt=0}}function En(){var o=Wt.now(),s=o-Gt;s>1e3&&(pn-=s,Gt=o)}function ee(o){kt||(fn&&(fn=clearTimeout(fn)),o-Qt>24?(o<1/0&&(fn=setTimeout(en,o-Wt.now()-pn)),Pt&&(Pt=clearInterval(Pt))):(Pt||(Gt=Wt.now(),Pt=setInterval(En,1e3)),kt=1,Lt(en)))}function ie(o,s,l){var h=new mt;return h.restart(function(w){h.stop(),o(w+s)},s=null==s?0:+s,l),h}mt.prototype=Nt.prototype={constructor:mt,restart:function(o,s,l){if("function"!=typeof o)throw new TypeError("callback is not a function");l=(null==l?_n():+l)+(null==s?0:+s),!this._next&&Ut!==this&&(Ut?Ut._next=this:St=this,Ut=this),this._call=o,this._time=l,ee()},stop:function(){this._call&&(this._call=null,this._time=1/0,ee())}};var pe=Kt("start","end","cancel","interrupt"),de=[];function Rn(o,s,l,h,w,T){var P=o.__transition;if(P){if(l in P)return}else o.__transition={};!function ae(o,s,l){var w,h=o.__transition;function P(K){var q,xt,bt,Dt;if(1!==l.state)return R();for(q in h)if((Dt=h[q]).name===l.name){if(3===Dt.state)return ie(P);4===Dt.state?(Dt.state=6,Dt.timer.stop(),Dt.on.call("interrupt",o,o.__data__,Dt.index,Dt.group),delete h[q]):+q<s&&(Dt.state=6,Dt.timer.stop(),Dt.on.call("cancel",o,o.__data__,Dt.index,Dt.group),delete h[q])}if(ie(function(){3===l.state&&(l.state=4,l.timer.restart(D,l.delay,l.time),D(K))}),l.state=2,l.on.call("start",o,o.__data__,l.index,l.group),2===l.state){for(l.state=3,w=new Array(bt=l.tween.length),q=0,xt=-1;q<bt;++q)(Dt=l.tween[q].value.call(o,o.__data__,l.index,l.group))&&(w[++xt]=Dt);w.length=xt+1}}function D(K){for(var q=K<l.duration?l.ease.call(null,K/l.duration):(l.timer.restart(R),l.state=5,1),xt=-1,bt=w.length;++xt<bt;)w[xt].call(o,q);5===l.state&&(l.on.call("end",o,o.__data__,l.index,l.group),R())}function R(){for(var K in l.state=6,l.timer.stop(),delete h[s],h)return;delete o.__transition}h[s]=l,l.timer=Nt(function T(K){l.state=1,l.timer.restart(P,l.delay,l.time),l.delay<=K&&P(K-l.delay)},0,l.time)}(o,l,{name:s,index:h,group:w,on:pe,tween:de,time:T.time,delay:T.delay,duration:T.duration,ease:T.ease,timer:null,state:0})}function qn(o,s){var l=mn(o,s);if(l.state>0)throw new Error("too late; already scheduled");return l}function gn(o,s){var l=mn(o,s);if(l.state>3)throw new Error("too late; already running");return l}function mn(o,s){var l=o.__transition;if(!l||!(l=l[s]))throw new Error("transition not found");return l}function se(o,s){var h,w,P,l=o.__transition,T=!0;if(l){for(P in s=null==s?null:s+"",l)(h=l[P]).name===s?(w=h.state>2&&h.state<5,h.state=6,h.timer.stop(),h.on.call(w?"interrupt":"cancel",o,o.__data__,h.index,h.group),delete l[P]):T=!1;T&&delete o.__transition}}function Dn(o,s){return o=+o,s=+s,function(l){return o*(1-l)+s*l}}var g,_,y,v,Wn=180/Math.PI,f={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function p(o,s,l,h,w,T){var P,D,R;return(P=Math.sqrt(o*o+s*s))&&(o/=P,s/=P),(R=o*l+s*h)&&(l-=o*R,h-=s*R),(D=Math.sqrt(l*l+h*h))&&(l/=D,h/=D,R/=D),o*h<s*l&&(o=-o,s=-s,R=-R,P=-P),{translateX:w,translateY:T,rotate:Math.atan2(s,o)*Wn,skewX:Math.atan(R)*Wn,scaleX:P,scaleY:D}}function C(o,s,l,h){function w(K){return K.length?K.pop()+" ":""}return function(K,q){var xt=[],bt=[];return K=o(K),q=o(q),function T(K,q,xt,bt,Dt,te){if(K!==xt||q!==bt){var Hn=Dt.push("translate(",null,s,null,l);te.push({i:Hn-4,x:Dn(K,xt)},{i:Hn-2,x:Dn(q,bt)})}else(xt||bt)&&Dt.push("translate("+xt+s+bt+l)}(K.translateX,K.translateY,q.translateX,q.translateY,xt,bt),function P(K,q,xt,bt){K!==q?(K-q>180?q+=360:q-K>180&&(K+=360),bt.push({i:xt.push(w(xt)+"rotate(",null,h)-2,x:Dn(K,q)})):q&&xt.push(w(xt)+"rotate("+q+h)}(K.rotate,q.rotate,xt,bt),function D(K,q,xt,bt){K!==q?bt.push({i:xt.push(w(xt)+"skewX(",null,h)-2,x:Dn(K,q)}):q&&xt.push(w(xt)+"skewX("+q+h)}(K.skewX,q.skewX,xt,bt),function R(K,q,xt,bt,Dt,te){if(K!==xt||q!==bt){var Hn=Dt.push(w(Dt)+"scale(",null,",",null,")");te.push({i:Hn-4,x:Dn(K,xt)},{i:Hn-2,x:Dn(q,bt)})}else(1!==xt||1!==bt)&&Dt.push(w(Dt)+"scale("+xt+","+bt+")")}(K.scaleX,K.scaleY,q.scaleX,q.scaleY,xt,bt),K=q=null,function(Dt){for(var ne,te=-1,Hn=bt.length;++te<Hn;)xt[(ne=bt[te]).i]=ne.x(Dt);return xt.join("")}}}var N=C(function k(o){return"none"===o?f:(g||(g=document.createElement("DIV"),_=document.documentElement,y=document.defaultView),g.style.transform=o,o=y.getComputedStyle(_.appendChild(g),null).getPropertyValue("transform"),_.removeChild(g),p(+(o=o.slice(7,-1).split(","))[0],+o[1],+o[2],+o[3],+o[4],+o[5]))},"px, ","px)","deg)"),L=C(function M(o){return null!=o&&(v||(v=document.createElementNS("http://www.w3.org/2000/svg","g")),v.setAttribute("transform",o),o=v.transform.baseVal.consolidate())?p((o=o.matrix).a,o.b,o.c,o.d,o.e,o.f):f},", ",")",")"),I=B(4245);function W(o,s){var l,h;return function(){var w=gn(this,o),T=w.tween;if(T!==l)for(var P=0,D=(h=l=T).length;P<D;++P)if(h[P].name===s){(h=h.slice()).splice(P,1);break}w.tween=h}}function j(o,s,l){var h,w;if("function"!=typeof l)throw new Error;return function(){var T=gn(this,o),P=T.tween;if(P!==h){w=(h=P).slice();for(var D={name:s,value:l},R=0,K=w.length;R<K;++R)if(w[R].name===s){w[R]=D;break}R===K&&w.push(D)}T.tween=w}}function G(o,s,l){var h=o._id;return o.each(function(){var w=gn(this,h);(w.value||(w.value={}))[s]=l.apply(this,arguments)}),function(w){return mn(w,h).value[s]}}function et(o,s,l){o.prototype=s.prototype=l,l.constructor=o}function O(o,s){var l=Object.create(o.prototype);for(var h in s)l[h]=s[h];return l}function pt(){}var ht=1/.7,st="\\s*([+-]?\\d+)\\s*",zt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",qt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ln=/^#([0-9a-f]{3,8})$/,wn=new RegExp("^rgb\\("+[st,st,st]+"\\)$"),bn=new RegExp("^rgb\\("+[qt,qt,qt]+"\\)$"),Tn=new RegExp("^rgba\\("+[st,st,st,zt]+"\\)$"),on=new RegExp("^rgba\\("+[qt,qt,qt,zt]+"\\)$"),tn=new RegExp("^hsl\\("+[zt,qt,qt]+"\\)$"),un=new RegExp("^hsla\\("+[zt,qt,qt,zt]+"\\)$"),Fn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function An(){return this.rgb().formatHex()}function J(){return this.rgb().formatRgb()}function F(o){var s,l;return o=(o+"").trim().toLowerCase(),(s=ln.exec(o))?(l=s[1].length,s=parseInt(s[1],16),6===l?at(s):3===l?new V(s>>8&15|s>>4&240,s>>4&15|240&s,(15&s)<<4|15&s,1):8===l?E(s>>24&255,s>>16&255,s>>8&255,(255&s)/255):4===l?E(s>>12&15|s>>8&240,s>>8&15|s>>4&240,s>>4&15|240&s,((15&s)<<4|15&s)/255):null):(s=wn.exec(o))?new V(s[1],s[2],s[3],1):(s=bn.exec(o))?new V(255*s[1]/100,255*s[2]/100,255*s[3]/100,1):(s=Tn.exec(o))?E(s[1],s[2],s[3],s[4]):(s=on.exec(o))?E(255*s[1]/100,255*s[2]/100,255*s[3]/100,s[4]):(s=tn.exec(o))?Ln(s[1],s[2]/100,s[3]/100,1):(s=un.exec(o))?Ln(s[1],s[2]/100,s[3]/100,s[4]):Fn.hasOwnProperty(o)?at(Fn[o]):"transparent"===o?new V(NaN,NaN,NaN,0):null}function at(o){return new V(o>>16&255,o>>8&255,255&o,1)}function E(o,s,l,h){return h<=0&&(o=s=l=NaN),new V(o,s,l,h)}function tt(o){return o instanceof pt||(o=F(o)),o?new V((o=o.rgb()).r,o.g,o.b,o.opacity):new V}function ct(o,s,l,h){return 1===arguments.length?tt(o):new V(o,s,l,h??1)}function V(o,s,l,h){this.r=+o,this.g=+s,this.b=+l,this.opacity=+h}function yt(){return"#"+Vt(this.r)+Vt(this.g)+Vt(this.b)}function vt(){var o=this.opacity;return(1===(o=isNaN(o)?1:Math.max(0,Math.min(1,o)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===o?")":", "+o+")")}function Vt(o){return((o=Math.max(0,Math.min(255,Math.round(o)||0)))<16?"0":"")+o.toString(16)}function Ln(o,s,l,h){return h<=0?o=s=l=NaN:l<=0||l>=1?o=s=NaN:s<=0&&(o=NaN),new kn(o,s,l,h)}function Mn(o){if(o instanceof kn)return new kn(o.h,o.s,o.l,o.opacity);if(o instanceof pt||(o=F(o)),!o)return new kn;if(o instanceof kn)return o;var s=(o=o.rgb()).r/255,l=o.g/255,h=o.b/255,w=Math.min(s,l,h),T=Math.max(s,l,h),P=NaN,D=T-w,R=(T+w)/2;return D?(P=s===T?(l-h)/D+6*(l<h):l===T?(h-s)/D+2:(s-l)/D+4,D/=R<.5?T+w:2-T-w,P*=60):D=R>0&&R<1?0:P,new kn(P,D,R,o.opacity)}function kn(o,s,l,h){this.h=+o,this.s=+s,this.l=+l,this.opacity=+h}function me(o,s,l){return 255*(o<60?s+(l-s)*o/60:o<180?l:o<240?s+(l-s)*(240-o)/60:s)}function be(o,s,l,h,w){var T=o*o,P=T*o;return((1-3*o+3*T-P)*s+(4-6*T+3*P)*l+(1+3*o+3*T-3*P)*h+P*w)/6}function ue(o){return function(){return o}}function hi(o,s){var l=s-o;return l?function Ae(o,s){return function(l){return o+l*s}}(o,l):ue(isNaN(o)?s:o)}et(pt,F,{copy:function(o){return Object.assign(new this.constructor,this,o)},displayable:function(){return this.rgb().displayable()},hex:An,formatHex:An,formatHsl:function m(){return Mn(this).formatHsl()},formatRgb:J,toString:J}),et(V,ct,O(pt,{brighter:function(o){return o=null==o?ht:Math.pow(ht,o),new V(this.r*o,this.g*o,this.b*o,this.opacity)},darker:function(o){return o=null==o?.7:Math.pow(.7,o),new V(this.r*o,this.g*o,this.b*o,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:yt,formatHex:yt,formatRgb:vt,toString:vt})),et(kn,function cn(o,s,l,h){return 1===arguments.length?Mn(o):new kn(o,s,l,h??1)},O(pt,{brighter:function(o){return o=null==o?ht:Math.pow(ht,o),new kn(this.h,this.s,this.l*o,this.opacity)},darker:function(o){return o=null==o?.7:Math.pow(.7,o),new kn(this.h,this.s,this.l*o,this.opacity)},rgb:function(){var o=this.h%360+360*(this.h<0),s=isNaN(o)||isNaN(this.s)?0:this.s,l=this.l,h=l+(l<.5?l:1-l)*s,w=2*l-h;return new V(me(o>=240?o-240:o+120,w,h),me(o,w,h),me(o<120?o+240:o-120,w,h),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var o=this.opacity;return(1===(o=isNaN(o)?1:Math.max(0,Math.min(1,o)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===o?")":", "+o+")")}}));const _i=function o(s){var l=function Hi(o){return 1==(o=+o)?hi:function(s,l){return l-s?function He(o,s,l){return o=Math.pow(o,l),s=Math.pow(s,l)-o,l=1/l,function(h){return Math.pow(o+h*s,l)}}(s,l,o):ue(isNaN(s)?l:s)}}(s);function h(w,T){var P=l((w=ct(w)).r,(T=ct(T)).r),D=l(w.g,T.g),R=l(w.b,T.b),K=hi(w.opacity,T.opacity);return function(q){return w.r=P(q),w.g=D(q),w.b=R(q),w.opacity=K(q),w+""}}return h.gamma=o,h}(1);function pi(o){return function(s){var P,D,l=s.length,h=new Array(l),w=new Array(l),T=new Array(l);for(P=0;P<l;++P)D=ct(s[P]),h[P]=D.r||0,w[P]=D.g||0,T[P]=D.b||0;return h=o(h),w=o(w),T=o(T),D.opacity=1,function(R){return D.r=h(R),D.g=w(R),D.b=T(R),D+""}}}pi(function Ve(o){var s=o.length-1;return function(l){var h=l<=0?l=0:l>=1?(l=1,s-1):Math.floor(l*s),w=o[h],T=o[h+1];return be((l-h/s)*s,h>0?o[h-1]:2*w-T,w,T,h<s-1?o[h+2]:2*T-w)}}),pi(function le(o){var s=o.length;return function(l){var h=Math.floor(((l%=1)<0?++l:l)*s);return be((l-h/s)*s,o[(h+s-1)%s],o[h%s],o[(h+1)%s],o[(h+2)%s])}});var Xe=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,$e=new RegExp(Xe.source,"g");function We(o,s){var h,w,T,l=Xe.lastIndex=$e.lastIndex=0,P=-1,D=[],R=[];for(o+="",s+="";(h=Xe.exec(o))&&(w=$e.exec(s));)(T=w.index)>l&&(T=s.slice(l,T),D[P]?D[P]+=T:D[++P]=T),(h=h[0])===(w=w[0])?D[P]?D[P]+=w:D[++P]=w:(D[++P]=null,R.push({i:P,x:Dn(h,w)})),l=$e.lastIndex;return l<s.length&&(T=s.slice(l),D[P]?D[P]+=T:D[++P]=T),D.length<2?R[0]?function zi(o){return function(s){return o(s)+""}}(R[0].x):function Qi(o){return function(){return o}}(s):(s=R.length,function(K){for(var xt,q=0;q<s;++q)D[(xt=R[q]).i]=xt.x(K);return D.join("")})}function Pn(o,s){var l;return("number"==typeof s?Dn:s instanceof F?_i:(l=F(s))?(s=l,_i):We)(o,s)}function di(o){return function(){this.removeAttribute(o)}}function Ri(o){return function(){this.removeAttributeNS(o.space,o.local)}}function Pe(o,s,l){var h,T,w=l+"";return function(){var P=this.getAttribute(o);return P===w?null:P===h?T:T=s(h=P,l)}}function Si(o,s,l){var h,T,w=l+"";return function(){var P=this.getAttributeNS(o.space,o.local);return P===w?null:P===h?T:T=s(h=P,l)}}function gi(o,s,l){var h,w,T;return function(){var P,R,D=l(this);return null==D?void this.removeAttribute(o):(P=this.getAttribute(o))===(R=D+"")?null:P===h&&R===w?T:(w=R,T=s(h=P,D))}}function Ie(o,s,l){var h,w,T;return function(){var P,R,D=l(this);return null==D?void this.removeAttributeNS(o.space,o.local):(P=this.getAttributeNS(o.space,o.local))===(R=D+"")?null:P===h&&R===w?T:(w=R,T=s(h=P,D))}}function qi(o,s){return function(l){this.setAttribute(o,s.call(this,l))}}function mi(o,s){return function(l){this.setAttributeNS(o.space,o.local,s.call(this,l))}}function Fi(o,s){var l,h;function w(){var T=s.apply(this,arguments);return T!==h&&(l=(h=T)&&mi(o,T)),l}return w._value=s,w}function xe(o,s){var l,h;function w(){var T=s.apply(this,arguments);return T!==h&&(l=(h=T)&&qi(o,T)),l}return w._value=s,w}function Te(o,s){return function(){qn(this,o).delay=+s.apply(this,arguments)}}function xi(o,s){return s=+s,function(){qn(this,o).delay=s}}function ke(o,s){return function(){gn(this,o).duration=+s.apply(this,arguments)}}function ze(o,s){return s=+s,function(){gn(this,o).duration=s}}function Re(o,s){if("function"!=typeof s)throw new Error;return function(){gn(this,o).ease=s}}var yi=B(6762);function vi(o,s,l){var h,w,T=function Se(o){return(o+"").trim().split(/^|\s+/).every(function(s){var l=s.indexOf(".");return l>=0&&(s=s.slice(0,l)),!s||"start"===s})}(s)?qn:gn;return function(){var P=T(this,o),D=P.on;D!==h&&(w=(h=D).copy()).on(s,l),P.on=w}}var Ki=B(9425),bi=B(794),Xi=ot.ZP.prototype.constructor,ye=B(6);function Me(o){return function(){this.style.removeProperty(o)}}function ii(o,s,l){return function(h){this.style.setProperty(o,s.call(this,h),l)}}function On(o,s,l){var h,w;function T(){var P=s.apply(this,arguments);return P!==w&&(h=(w=P)&&ii(o,P,l)),h}return T._value=s,T}function jn(o){return function(s){this.textContent=o.call(this,s)}}function Zi(o){var s,l;function h(){var w=o.apply(this,arguments);return w!==l&&(s=(l=w)&&jn(w)),s}return h._value=o,h}var tr=0;function Yn(o,s,l,h){this._groups=o,this._parents=s,this._name=l,this._id=h}function oi(o){return(0,ot.ZP)().transition(o)}function ki(){return++tr}var ve=ot.ZP.prototype;Yn.prototype=oi.prototype={constructor:Yn,select:function ti(o){var s=this._name,l=this._id;"function"!=typeof o&&(o=(0,Ki.Z)(o));for(var h=this._groups,w=h.length,T=new Array(w),P=0;P<w;++P)for(var q,xt,D=h[P],R=D.length,K=T[P]=new Array(R),bt=0;bt<R;++bt)(q=D[bt])&&(xt=o.call(q,q.__data__,bt,D))&&("__data__"in q&&(xt.__data__=q.__data__),K[bt]=xt,Rn(K[bt],s,l,bt,K,mn(q,l)));return new Yn(T,this._parents,s,l)},selectAll:function Vi(o){var s=this._name,l=this._id;"function"!=typeof o&&(o=(0,bi.Z)(o));for(var h=this._groups,w=h.length,T=[],P=[],D=0;D<w;++D)for(var q,R=h[D],K=R.length,xt=0;xt<K;++xt)if(q=R[xt]){for(var Dt,bt=o.call(q,q.__data__,xt,R),te=mn(q,l),Hn=0,ne=bt.length;Hn<ne;++Hn)(Dt=bt[Hn])&&Rn(Dt,s,l,Hn,bt,te);T.push(bt),P.push(q)}return new Yn(T,P,s,l)},filter:function je(o){"function"!=typeof o&&(o=(0,yi.Z)(o));for(var s=this._groups,l=s.length,h=new Array(l),w=0;w<l;++w)for(var R,T=s[w],P=T.length,D=h[w]=[],K=0;K<P;++K)(R=T[K])&&o.call(R,R.__data__,K,T)&&D.push(R);return new Yn(h,this._parents,this._name,this._id)},merge:function Oi(o){if(o._id!==this._id)throw new Error;for(var s=this._groups,l=o._groups,h=s.length,T=Math.min(h,l.length),P=new Array(h),D=0;D<T;++D)for(var bt,R=s[D],K=l[D],q=R.length,xt=P[D]=new Array(q),Dt=0;Dt<q;++Dt)(bt=R[Dt]||K[Dt])&&(xt[Dt]=bt);for(;D<h;++D)P[D]=s[D];return new Yn(P,this._parents,this._name,this._id)},selection:function Ai(){return new Xi(this._groups,this._parents)},transition:function Ti(){for(var o=this._name,s=this._id,l=ki(),h=this._groups,w=h.length,T=0;T<w;++T)for(var R,P=h[T],D=P.length,K=0;K<D;++K)if(R=P[K]){var q=mn(R,s);Rn(R,o,l,K,P,{time:q.time+q.delay+q.duration,delay:0,duration:q.duration,ease:q.ease})}return new Yn(h,this._parents,o,l)},call:ve.call,nodes:ve.nodes,node:ve.node,size:ve.size,empty:ve.empty,each:ve.each,on:function Yi(o,s){var l=this._id;return arguments.length<2?mn(this.node(),l).on.on(o):this.each(vi(l,o,s))},attr:function Gi(o,s){var l=(0,I.Z)(o),h="transform"===l?L:Pn;return this.attrTween(o,"function"==typeof s?(l.local?Ie:gi)(l,h,G(this,"attr."+o,s)):null==s?(l.local?Ri:di)(l):(l.local?Si:Pe)(l,h,s))},attrTween:function Ze(o,s){var l="attr."+o;if(arguments.length<2)return(l=this.tween(l))&&l._value;if(null==s)return this.tween(l,null);if("function"!=typeof s)throw new Error;var h=(0,I.Z)(o);return this.tween(l,(h.local?Fi:xe)(h,s))},style:function qe(o,s,l){var h="transform"==(o+="")?N:Pn;return null==s?this.styleTween(o,function ni(o,s){var l,h,w;return function(){var T=(0,ye.S)(this,o),P=(this.style.removeProperty(o),(0,ye.S)(this,o));return T===P?null:T===l&&P===h?w:w=s(l=T,h=P)}}(o,h)).on("end.style."+o,Me(o)):"function"==typeof s?this.styleTween(o,function ei(o,s,l){var h,w,T;return function(){var P=(0,ye.S)(this,o),D=l(this),R=D+"";return null==D&&(this.style.removeProperty(o),R=D=(0,ye.S)(this,o)),P===R?null:P===h&&R===w?T:(w=R,T=s(h=P,D))}}(o,h,G(this,"style."+o,s))).each(function Ge(o,s){var l,h,w,D,T="style."+s,P="end."+T;return function(){var R=gn(this,o),K=R.on,q=null==R.value[T]?D||(D=Me(s)):void 0;(K!==l||w!==q)&&(h=(l=K).copy()).on(P,w=q),R.on=h}}(this._id,o)):this.styleTween(o,function Pi(o,s,l){var h,T,w=l+"";return function(){var P=(0,ye.S)(this,o);return P===w?null:P===h?T:T=s(h=P,l)}}(o,h,s),l).on("end.style."+o,null)},styleTween:function Sn(o,s,l){var h="style."+(o+="");if(arguments.length<2)return(h=this.tween(h))&&h._value;if(null==s)return this.tween(h,null);if("function"!=typeof s)throw new Error;return this.tween(h,On(o,s,l??""))},text:function ji(o){return this.tween("text","function"==typeof o?function Wi(o){return function(){var s=o(this);this.textContent=s??""}}(G(this,"text",o)):function $i(o){return function(){this.textContent=o}}(null==o?"":o+""))},textTween:function ri(o){var s="text";if(arguments.length<1)return(s=this.tween(s))&&s._value;if(null==o)return this.tween(s,null);if("function"!=typeof o)throw new Error;return this.tween(s,Zi(o))},remove:function Bi(){return this.on("end.remove",function wi(o){return function(){var s=this.parentNode;for(var l in this.__transition)if(+l!==o)return;s&&s.removeChild(this)}}(this._id))},tween:function S(o,s){var l=this._id;if(o+="",arguments.length<2){for(var P,h=mn(this.node(),l).tween,w=0,T=h.length;w<T;++w)if((P=h[w]).name===o)return P.value;return null}return this.each((null==s?W:j)(l,o,s))},delay:function Qe(o){var s=this._id;return arguments.length?this.each(("function"==typeof o?Te:xi)(s,o)):mn(this.node(),s).delay},duration:function ce(o){var s=this._id;return arguments.length?this.each(("function"==typeof o?ke:ze)(s,o)):mn(this.node(),s).duration},ease:function Je(o){var s=this._id;return arguments.length?this.each(Re(s,o)):mn(this.node(),s).ease},end:function Fe(){var o,s,l=this,h=l._id,w=l.size();return new Promise(function(T,P){var D={value:P},R={value:function(){0==--w&&T()}};l.each(function(){var K=gn(this,h),q=K.on;q!==o&&((s=(o=q).copy())._.cancel.push(D),s._.interrupt.push(D),s._.end.push(R)),K.on=s})})}};var Ne={time:null,delay:0,duration:250,ease:function nr(o){return((o*=2)<=1?o*o*o:(o-=2)*o*o+2)/2}};function ai(o,s){for(var l;!(l=o.__transition)||!(l=l[s]);)if(!(o=o.parentNode))return Ne.time=_n(),Ne;return l}ot.ZP.prototype.interrupt=function ge(o){return this.each(function(){se(this,o)})},ot.ZP.prototype.transition=function Ji(o){var s,l;o instanceof Yn?(s=o._id,o=o._name):(s=ki(),(l=Ne).time=_n(),o=null==o?null:o+"");for(var h=this._groups,w=h.length,T=0;T<w;++T)for(var R,P=h[T],D=P.length,K=0;K<D;++K)(R=P[K])&&Rn(R,o,s,K,P,l||ai(R,s));return new Yn(h,this._parents,o,s)};var Ce=[null];function Ee(o,s){var h,w,l=o.__transition;if(l)for(w in s=null==s?null:s+"",l)if((h=l[w]).state>1&&h.name===s)return new Yn([[o]],Ce,s,+w);return null}}}]);
//# sourceMappingURL=5654.7906774179481a60.js.map